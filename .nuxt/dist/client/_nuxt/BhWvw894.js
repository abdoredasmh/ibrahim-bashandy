import{_ as h}from"./CEyFpblA.js";import{e as k,u as C,q as V,r as a,s as z,c as d,a as e,v as N,i as p,t as B,x as m,y as f,b as v,w as x,n as S,o as u,d as g,z as w,_ as j}from"./CaF1xe-H.js";const q={class:"flex items-center justify-center min-h-[calc(100vh-200px)] py-12 px-4 sm:px-6 lg:px-8"},E={class:"w-full max-w-md space-y-8 bg-white p-8 md:p-10 rounded-lg shadow border border-cream-gray"},L={key:0,class:"text-red-600 text-center text-sm mb-4 p-2 bg-red-100 rounded"},M={class:"rounded-md shadow-sm -space-y-px"},T={class:"flex items-center justify-between"},U={class:"text-sm"},D=["disabled"],I={key:0,class:"absolute inset-y-0 left-0 flex items-center pl-3"},A={class:"text-sm text-center"},H=k({__name:"login",setup(P){const b=C(),y=V(),r=a(""),l=a(""),o=a(""),t=a(!1),_=async()=>{t.value=!0,o.value="";const{error:n}=await b.auth.signInWithPassword({email:r.value,password:l.value});t.value=!1,n?(console.error("Login Error:",n.message),o.value="البريد الإلكتروني أو كلمة المرور غير صحيحة."):await w("/")};return z(()=>{y.value&&w("/")}),(n,s)=>{const c=h;return u(),d("div",q,[e("div",E,[s[7]||(s[7]=e("div",null,[e("h2",{class:"mt-6 text-center text-3xl font-bold tracking-tight text-brown-dark"}," تسجيل الدخول إلى حسابك ")],-1)),e("form",{class:"mt-8 space-y-6",onSubmit:N(_,["prevent"])},[o.value?(u(),d("div",L,B(o.value),1)):p("",!0),e("div",M,[e("div",null,[s[2]||(s[2]=e("label",{for:"email-address",class:"sr-only"},"البريد الإلكتروني",-1)),m(e("input",{id:"email-address",name:"email",type:"email","onUpdate:modelValue":s[0]||(s[0]=i=>r.value=i),autocomplete:"email",required:"",class:"relative block w-full appearance-none rounded-none rounded-t-md border border-cream-gray px-3 py-2 text-brown-dark placeholder-gray-500 focus:z-10 focus:border-olive-green focus:outline-none focus:ring-olive-green sm:text-sm",placeholder:"البريد الإلكتروني"},null,512),[[f,r.value]])]),e("div",null,[s[3]||(s[3]=e("label",{for:"password",class:"sr-only"},"كلمة المرور",-1)),m(e("input",{id:"password",name:"password",type:"password","onUpdate:modelValue":s[1]||(s[1]=i=>l.value=i),autocomplete:"current-password",required:"",class:"relative block w-full appearance-none rounded-none rounded-b-md border border-cream-gray px-3 py-2 text-brown-dark placeholder-gray-500 focus:z-10 focus:border-olive-green focus:outline-none focus:ring-olive-green sm:text-sm",placeholder:"كلمة المرور"},null,512),[[f,l.value]])])]),e("div",T,[e("div",U,[v(c,{to:"/forgot-password",class:"font-medium text-olive-green hover:underline"},{default:x(()=>s[4]||(s[4]=[g(" نسيت كلمة المرور؟ ")])),_:1})])]),e("div",null,[e("button",{type:"submit",disabled:t.value,class:"group relative flex w-full justify-center rounded-md border border-transparent bg-olive-green py-2 px-4 text-sm font-medium text-white hover:bg-opacity-85 focus:outline-none focus:ring-2 focus:ring-olive-green focus:ring-offset-2 disabled:opacity-50"},[t.value?(u(),d("span",I,s[5]||(s[5]=[e("svg",{class:"animate-spin h-5 w-5 text-white",xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24"},[e("circle",{class:"opacity-25",cx:"12",cy:"12",r:"10",stroke:"currentColor","stroke-width":"4"}),e("path",{class:"opacity-75",fill:"currentColor",d:"M4 12a8 8 0 018-8V0C5.373 0 0 5.373 0 12h4zm2 5.291A7.962 7.962 0 014 12H0c0 3.042 1.135 5.824 3 7.938l3-2.647z"})],-1)]))):p("",!0),e("span",{class:S({"opacity-0":t.value})},"تسجيل الدخول",2)],8,D)]),e("div",A,[v(c,{to:"/signup",class:"font-medium text-olive-green hover:underline"},{default:x(()=>s[6]||(s[6]=[g(" ليس لديك حساب؟ إنشاء حساب جديد ")])),_:1})])],32)])])}}}),G=j(H,[["__scopeId","data-v-ddc8bca1"]]);export{G as default};
