import{h as u,G as w,V as g,Y as b,S as x}from"./vWwLff75.js";import{e as _,g as k,p as B,w as s,h as o,o as n,b as r,a,c as d}from"./CaF1xe-H.js";const V={class:"fixed inset-0 overflow-y-auto"},j={class:"flex min-h-full items-center justify-center p-4 text-center"},C={class:"mt-4 aspect-video"},M=["src"],U={key:1,class:"w-full h-full bg-gray-200 dark:bg-gray-700 flex items-center justify-center text-gray-500"},G=_({__name:"VideoPreviewModal",props:{show:{type:Boolean},videoUrl:{}},emits:["close"],setup(m,{emit:f}){const p=m,h=f,y=t=>{if(!t)return null;try{const e=new URL(t);if(e.hostname==="youtu.be")return e.pathname.slice(1);if(e.hostname.includes("youtube.com")&&e.searchParams.has("v"))return e.searchParams.get("v")}catch{const v=/(?:youtube\.com\/(?:[^/]+\/.+\/|(?:v|e(?:mbed)?)\/|.*[?&]v=)|youtu\.be\/)([^"&?/ ]{11})/,l=t.match(v);if(l&&l[1])return l[1]}return null},i=k(()=>{const t=y(p.videoUrl);return t?`https://www.youtube.com/embed/${t}?autoplay=1&modestbranding=1&rel=0`:null});function c(){h("close")}return(t,e)=>(n(),B(o(x),{appear:"",show:t.show,as:"template"},{default:s(()=>[r(o(b),{as:"div",onClose:c,class:"relative z-[60]"},{default:s(()=>[r(o(u),{as:"div",class:"fixed inset-0 bg-black/50 backdrop-blur-sm",enter:"duration-200 ease-out","enter-from":"opacity-0","enter-to":"opacity-100",leave:"duration-150 ease-in","leave-from":"opacity-100","leave-to":"opacity-0"}),a("div",V,[a("div",j,[r(o(u),{as:"template",enter:"duration-200 ease-out","enter-from":"opacity-0 scale-95","enter-to":"opacity-100 scale-100",leave:"duration-150 ease-in","leave-from":"opacity-100 scale-100","leave-to":"opacity-0 scale-95"},{default:s(()=>[r(o(w),{class:"w-full max-w-md transform overflow-hidden rounded-lg bg-white dark:bg-gray-800 p-4 text-left align-middle shadow-xl transition-all"},{default:s(()=>[r(o(g),{as:"h3",class:"text-lg font-medium leading-6 text-gray-900 dark:text-gray-100 flex justify-between items-center"},{default:s(()=>[e[1]||(e[1]=a("span",null,"معاينة الفيديو",-1)),a("button",{onClick:c,class:"text-gray-400 hover:text-gray-600 dark:hover:text-gray-300 focus:outline-none"},e[0]||(e[0]=[a("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24","stroke-width":"1.5",stroke:"currentColor",class:"w-6 h-6"},[a("path",{"stroke-linecap":"round","stroke-linejoin":"round",d:"M6 18 18 6M6 6l12 12"})],-1)]))]),_:1}),a("div",C,[i.value?(n(),d("iframe",{key:0,src:i.value,frameborder:"0",allow:"accelerometer; autoplay; clipboard-write; encrypted-media; gyroscope; picture-in-picture; web-share",allowfullscreen:"",class:"w-full h-full"},null,8,M)):(n(),d("div",U," لا يمكن تحميل الفيديو. "))])]),_:1})]),_:1})])])]),_:1})]),_:1},8,["show"]))}});export{G as _};
