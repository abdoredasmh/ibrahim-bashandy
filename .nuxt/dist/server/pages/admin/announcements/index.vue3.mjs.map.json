{"file":"index.vue3.mjs","mappings":";;;;;;;;AAsLe,sBAA4B;AAGrC,UAAA,gBAAgB,IAAoB,EAAE;AACtC,UAAA,gBAAgB,IAAI,KAAK;AACzB,UAAA,YAAY,IAAmB,IAAI;AACnC,UAAA,cAAc,IAAI,KAAK;AACvB,UAAA,sBAAsB,IAAyB,IAAI;AACnD,UAAA,WAAW,IAAI,KAAK;AACpB,UAAA,iBAAiB,IAAmB,IAAI;AACxC,UAAA,eAAe,IAAmB,IAAI;AAG5C,UAAM,kBAAkB;AAAA,MACtB,OAAO;AAAA,MACP,SAAS;AAAA,MACT,MAAM;AAAA,MACN,MAAM;AAAA,MACN,MAAM;AAAA,MACN,cAAc;AAAA,IAChB;AACA,UAAM,WAAW,IAAI,EAAE,GAAG,iBAAiB;AAG3C,aAAS,WAAW,YAA0C;AACxD,UAAA,CAAC,WAAmB,QAAA;AACpB,UAAA;AACI,cAAA,OAAO,IAAI,KAAK,UAAU;AAChC,eAAO,KAAK,mBAAmB,SAAS,EAAE,MAAM,WAAW,OAAO,SAAS,KAAK,WAAW,MAAM,WAAW,QAAQ,WAAW,QAAQ,MAAM;AAAA,eACtI,GAAG;AACF,gBAAA,MAAM,0BAA0B,CAAC;AAClC,eAAA;AAAA,MAAA;AAAA,IACT;AAcF,aAAS,YAAY,MAAgC;AACjD,cAAQ,MAAM;AAAA,QACV,KAAK;AAAkB,iBAAA;AAAA,QACvB,KAAK;AAAuB,iBAAA;AAAA,QAC5B,KAAK;AAAe,iBAAA;AAAA,QACpB;AAGI,iBAAO,OAAO,IAAI;AAAA,MAAA;AAAA,IAC1B;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;","names":[],"sources":["../../../../../../pages/admin/announcements/index.vue"],"sourcesContent":["<template>\r\n  <div class=\"p-4 md:p-6 lg:p-8\">\r\n    <div class=\"flex justify-between items-center mb-6 border-b border-cream-gray dark:border-gray-700 pb-3\">\r\n      <h1 class=\"text-2xl font-bold text-brown-dark dark:text-beige-light\">\r\n        إدارة المواعيد والإعلانات\r\n      </h1>\r\n      <button\r\n        @click=\"openAddModal\"\r\n        class=\"inline-flex items-center px-4 py-2 bg-primary text-white text-sm font-medium rounded-md shadow-sm hover:bg-primary-600 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-primary dark:focus:ring-offset-gray-800\"\r\n      >\r\n        <svg xmlns=\"http://www.w3.org/2000/svg\" class=\"h-5 w-5 me-2\" fill=\"none\" viewBox=\"0 0 24 24\" stroke=\"currentColor\" stroke-width=\"2\">\r\n          <path stroke-linecap=\"round\" stroke-linejoin=\"round\" d=\"M12 4v16m8-8H4\" />\r\n        </svg>\r\n        إضافة جديد\r\n      </button>\r\n    </div>\r\n\r\n    <!-- Loading State for List -->\r\n     <div v-if=\"isLoadingList\" class=\"text-center py-10\">\r\n        <p class=\"text-gray-500 dark:text-gray-400 mb-3\">جاري تحميل الإعلانات...</p>\r\n         <div class=\"inline-block h-8 w-8 animate-spin rounded-full border-4 border-solid border-current border-r-transparent align-[-0.125em] text-primary motion-reduce:animate-[spin_1.5s_linear_infinite]\" role=\"status\">\r\n            <span class=\"!absolute !-m-px !h-px !w-px !overflow-hidden !whitespace-nowrap !border-0 !p-0 ![clip:rect(0,0,0,0)]\">Loading...</span>\r\n         </div>\r\n     </div>\r\n\r\n     <!-- Error State for List -->\r\n     <div v-else-if=\"listError\" class=\"text-center py-10 p-4 bg-red-100 dark:bg-red-900/50 border border-red-300 dark:border-red-700 text-red-800 dark:text-red-200 rounded-md\">\r\n        <p>خطأ في تحميل القائمة: {{ listError }}</p>\r\n        <button @click=\"fetchAnnouncements\" class=\"mt-2 px-3 py-1 bg-red-600 text-white text-sm rounded hover:bg-red-700\">\r\n          إعادة المحاولة\r\n        </button>\r\n     </div>\r\n\r\n    <!-- Announcements Table -->\r\n    <div v-else-if=\"announcements.length > 0\" class=\"overflow-x-auto bg-white dark:bg-gray-800 rounded-lg shadow border border-cream-gray dark:border-gray-700\">\r\n      <table class=\"min-w-full divide-y divide-cream-gray dark:divide-gray-700\">\r\n        <thead class=\"bg-gray-50 dark:bg-gray-700/50\">\r\n          <tr>\r\n            <th scope=\"col\" class=\"table-th\">العنوان</th>\r\n            <th scope=\"col\" class=\"table-th\">النوع</th>\r\n            <th scope=\"col\" class=\"table-th\">التاريخ</th>\r\n            <th scope=\"col\" class=\"table-th text-center\">منشور؟</th>\r\n            <th scope=\"col\" class=\"table-th text-left\">إجراءات</th>\r\n          </tr>\r\n        </thead>\r\n        <tbody class=\"bg-white dark:bg-gray-800 divide-y divide-cream-gray dark:divide-gray-700\">\r\n          <tr v-for=\"announcement in announcements\" :key=\"announcement.id\" class=\"table-tr\">\r\n            <td class=\"table-td font-medium text-brown-dark dark:text-beige-light\">{{ announcement.title }}</td>\r\n            <td class=\"table-td\">\r\n              <!-- تنسيق النوع المحدث ليشمل البث المباشر -->\r\n              <span :class=\"[\r\n                'px-2 inline-flex text-xs leading-5 font-semibold rounded-full',\r\n                announcement.type === 'lecture' ? 'bg-blue-100 text-blue-800 dark:bg-blue-900/70 dark:text-blue-200' :\r\n                announcement.type === 'live' ? 'bg-red-100 text-red-800 dark:bg-red-900/70 dark:text-red-200 animate-pulse' :\r\n                'bg-yellow-100 text-yellow-800 dark:bg-yellow-900/70 dark:text-yellow-200'\r\n              ]\">\r\n                {{ getTypeText(announcement.type) }}\r\n              </span>\r\n            </td>\r\n            <td class=\"table-td text-gray-700 dark:text-gray-300\">{{ formatDate(announcement.date) || 'غير محدد' }}</td>\r\n            <td class=\"table-td text-center\">\r\n              <!-- Toggle Publish Button -->\r\n              <button @click=\"togglePublish(announcement)\" :class=\"[\r\n                'p-1 rounded-full focus:outline-none focus:ring-2 focus:ring-offset-2 dark:focus:ring-offset-gray-800 transition-colors duration-150',\r\n                announcement.is_published ? 'bg-green-100 text-green-700 hover:bg-green-200 focus:ring-green-500 dark:bg-green-900/50 dark:text-green-300 dark:hover:bg-green-800/60' : 'bg-red-100 text-red-700 hover:bg-red-200 focus:ring-red-500 dark:bg-red-900/50 dark:text-red-300 dark:hover:bg-red-800/60'\r\n              ]\">\r\n                <svg v-if=\"announcement.is_published\" xmlns=\"http://www.w3.org/2000/svg\" class=\"h-5 w-5\" viewBox=\"0 0 20 20\" fill=\"currentColor\">\r\n                  <path fill-rule=\"evenodd\" d=\"M10 18a8 8 0 100-16 8 8 0 000 16zm3.707-9.293a1 1 0 00-1.414-1.414L9 10.586 7.707 9.293a1 1 0 00-1.414 1.414l2 2a1 1 0 001.414 0l4-4z\" clip-rule=\"evenodd\" />\r\n                </svg>\r\n                <svg v-else xmlns=\"http://www.w3.org/2000/svg\" class=\"h-5 w-5\" viewBox=\"0 0 20 20\" fill=\"currentColor\">\r\n                  <path fill-rule=\"evenodd\" d=\"M10 18a8 8 0 100-16 8 8 0 000 16zM8.707 7.293a1 1 0 00-1.414 1.414L8.586 10l-1.293 1.293a1 1 0 101.414 1.414L10 11.414l1.293 1.293a1 1 0 001.414-1.414L11.414 10l1.293-1.293a1 1 0 00-1.414-1.414L10 8.586 8.707 7.293z\" clip-rule=\"evenodd\" />\r\n                </svg>\r\n                 <span class=\"sr-only\">{{ announcement.is_published ? 'إلغاء النشر' : 'نشر' }}</span>\r\n              </button>\r\n            </td>\r\n            <td class=\"table-td text-left font-medium space-x-reverse space-x-2\">\r\n              <button @click=\"openEditModal(announcement)\" class=\"text-indigo-600 hover:text-indigo-900 dark:text-indigo-400 dark:hover:text-indigo-300\">تعديل</button>\r\n              <button @click=\"handleDelete(announcement.id)\" class=\"text-red-600 hover:text-red-900 dark:text-red-400 dark:hover:text-red-300\">حذف</button>\r\n            </td>\r\n          </tr>\r\n        </tbody>\r\n      </table>\r\n    </div>\r\n\r\n     <!-- No Announcements Message -->\r\n     <div v-else class=\"text-center py-10\">\r\n        <p class=\"text-gray-500 dark:text-gray-400\">لا توجد إعلانات أو مواعيد حاليًا.</p>\r\n     </div>\r\n\r\n    <!-- Add/Edit Modal -->\r\n    <div v-if=\"isModalOpen\" class=\"fixed inset-0 z-50 overflow-y-auto\" aria-labelledby=\"modal-title\" role=\"dialog\" aria-modal=\"true\">\r\n      <div class=\"flex items-end justify-center min-h-screen pt-4 px-4 pb-20 text-center sm:block sm:p-0\">\r\n        <!-- Background overlay -->\r\n        <div @click=\"closeModal\" class=\"fixed inset-0 bg-gray-500 bg-opacity-75 transition-opacity dark:bg-gray-900 dark:bg-opacity-80\" aria-hidden=\"true\"></div>\r\n        <!-- Modal panel -->\r\n        <span class=\"hidden sm:inline-block sm:align-middle sm:h-screen\" aria-hidden=\"true\">​</span>\r\n        <div class=\"inline-block align-bottom bg-white dark:bg-gray-800 rounded-lg text-right overflow-hidden shadow-xl transform transition-all sm:my-8 sm:align-middle sm:max-w-2xl sm:w-full\">\r\n          <div class=\"bg-white dark:bg-gray-800 px-4 pt-5 pb-4 sm:p-6 sm:pb-4\">\r\n            <div class=\"sm:flex sm:items-start w-full\">\r\n              <div class=\"mt-3 text-center sm:mt-0 sm:text-right w-full\">\r\n                <h3 class=\"text-lg leading-6 font-medium text-gray-900 dark:text-white mb-5\" id=\"modal-title\">\r\n                  {{ editingAnnouncement ? 'تعديل' : 'إضافة جديد' }}\r\n                </h3>\r\n                <form @submit.prevent=\"handleSubmit\">\r\n                  <div class=\"space-y-5\">\r\n                    <!-- Title -->\r\n                    <div>\r\n                      <label for=\"modal-title-input\" class=\"form-label\">العنوان <span class=\"text-red-500\">*</span></label>\r\n                      <input v-model=\"formData.title\" type=\"text\" id=\"modal-title-input\" required class=\"form-input\" />\r\n                    </div>\r\n                    <!-- Details -->\r\n                    <div>\r\n                      <label for=\"modal-details\" class=\"form-label\">التفاصيل</label>\r\n                      <textarea v-model=\"formData.details\" id=\"modal-details\" rows=\"4\" class=\"form-textarea\"></textarea>\r\n                    </div>\r\n                    <!-- Type -->\r\n                    <div>\r\n                      <label for=\"modal-type\" class=\"form-label\">النوع <span class=\"text-red-500\">*</span></label>\r\n                      <select v-model=\"formData.type\" id=\"modal-type\" required class=\"form-select\">\r\n                        <option value=\"lecture\">محاضرة / درس</option>\r\n                        <option value=\"announcement\">إعلان عام</option>\r\n                        <option value=\"live\">بث مباشر</option>\r\n                      </select>\r\n                    </div>\r\n                    <!-- Date and Time -->\r\n                    <div>\r\n                      <label for=\"modal-date\" class=\"form-label\">التاريخ والوقت</label>\r\n                      <input v-model=\"formData.date\" type=\"datetime-local\" id=\"modal-date\" class=\"form-input\" />\r\n                      <p class=\"form-help-text\">مهم للمحاضرات والبث المباشر لتحديد وقت البدء.</p>\r\n                    </div>\r\n                    <!-- Link -->\r\n                    <div>\r\n                      <label for=\"modal-link\" class=\"form-label\">الرابط <span v-if=\"formData.type === 'live' || formData.type === 'lecture'\" class=\"text-red-500\">*</span></label>\r\n                      <input v-model=\"formData.link\" type=\"url\" id=\"modal-link\" :required=\"formData.type === 'live' || formData.type === 'lecture'\" class=\"form-input\" placeholder=\"https://...\"/>\r\n                       <p class=\"form-help-text\">رابط البث (يوتيوب، فيسبوك، إلخ) أو رابط تفاصيل الإعلان.</p>\r\n                    </div>\r\n                    <!-- Is Published -->\r\n                    <div class=\"flex items-center\">\r\n                      <input v-model=\"formData.is_published\" id=\"modal-is_published\" type=\"checkbox\" class=\"h-4 w-4 text-primary border-gray-300 rounded focus:ring-primary dark:bg-gray-600 dark:border-gray-500\"/>\r\n                      <label for=\"modal-is_published\" class=\"ms-2 block text-sm text-gray-900 dark:text-gray-300\">نشر (جعله مرئياً للعامة)</label>\r\n                    </div>\r\n                  </div>\r\n                  <!-- Feedback Messages Inside Modal -->\r\n                  <div v-if=\"successMessage\" class=\"mt-4 p-3 form-success-message\">{{ successMessage }}</div>\r\n                  <div v-if=\"errorMessage\" class=\"mt-4 p-3 form-error-message\">خطأ: {{ errorMessage }}</div>\r\n                </form>\r\n              </div>\r\n            </div>\r\n          </div>\r\n          <div class=\"bg-gray-50 dark:bg-gray-700 px-4 py-3 sm:px-6 sm:flex sm:flex-row-reverse\">\r\n            <button @click=\"handleSubmit\" :disabled=\"isSaving\" type=\"button\" class=\"modal-button-primary\">\r\n               <svg v-if=\"isSaving\" class=\"animate-spin -ml-1 mr-3 h-5 w-5 text-white\" xmlns=\"http://www.w3.org/2000/svg\" fill=\"none\" viewBox=\"0 0 24 24\">\r\n                 <circle class=\"opacity-25\" cx=\"12\" cy=\"12\" r=\"10\" stroke=\"currentColor\" stroke-width=\"4\"></circle>\r\n                 <path class=\"opacity-75\" fill=\"currentColor\" d=\"M4 12a8 8 0 018-8V0C5.373 0 0 5.373 0 12h4zm2 5.291A7.962 7.962 0 014 12H0c0 3.042 1.135 5.824 3 7.938l3-2.647z\"></path>\r\n              </svg>\r\n              {{ isSaving ? 'جاري الحفظ...' : (editingAnnouncement ? 'حفظ التعديلات' : 'إضافة') }}\r\n            </button>\r\n            <button @click=\"closeModal\" type=\"button\" class=\"modal-button-secondary\">إلغاء</button>\r\n          </div>\r\n        </div>\r\n      </div>\r\n    </div>\r\n    <!-- End Modal -->\r\n\r\n  </div>\r\n</template>\r\n\r\n<script setup lang=\"ts\">\r\nimport { ref, onMounted } from 'vue';\r\nimport { useSupabaseClient } from '#imports';\r\nimport type { Database, Tables, Enums } from '~/types/database.types';\r\n\r\n// --- Page Meta ---\r\ndefinePageMeta({ layout: 'admin', middleware: 'admin' });\r\n\r\n// --- Types & Interfaces ---\r\ntype AnnouncementType = Enums<'announcement_type'>;\r\ntype Announcement = Omit<Tables<'announcements'>, 'type'> & {\r\n  type: AnnouncementType;\r\n};\r\n\r\n// --- Supabase Client ---\r\nconst client = useSupabaseClient<Database>();\r\n\r\n// --- Component State ---\r\nconst announcements = ref<Announcement[]>([]);\r\nconst isLoadingList = ref(false);\r\nconst listError = ref<string | null>(null);\r\nconst isModalOpen = ref(false);\r\nconst editingAnnouncement = ref<Announcement | null>(null);\r\nconst isSaving = ref(false);\r\nconst successMessage = ref<string | null>(null);\r\nconst errorMessage = ref<string | null>(null);\r\n\r\n// --- Form Data State ---\r\nconst initialFormData = {\r\n  title: '',\r\n  details: '',\r\n  type: 'announcement' as AnnouncementType,\r\n  date: '',\r\n  link: '',\r\n  is_published: false,\r\n};\r\nconst formData = ref({ ...initialFormData });\r\n\r\n// --- Helper Functions ---\r\nfunction formatDate(dateString: string | null): string | null {\r\n  if (!dateString) return null;\r\n  try {\r\n    const date = new Date(dateString);\r\n    return date.toLocaleDateString('ar-EG', { year: 'numeric', month: 'short', day: 'numeric', hour: 'numeric', minute: '2-digit', hour12: true });\r\n  } catch (e) {\r\n    console.error(\"Error formatting date:\", e);\r\n    return 'تاريخ غير صالح';\r\n  }\r\n}\r\n\r\nfunction formatISOForInput(isoString: string | null): string {\r\n   if (!isoString) return '';\r\n   try {\r\n     const date = new Date(isoString);\r\n     date.setMinutes(date.getMinutes() - date.getTimezoneOffset());\r\n     return date.toISOString().slice(0, 16);\r\n   } catch {\r\n     return '';\r\n   }\r\n}\r\n\r\nfunction getTypeText(type: AnnouncementType): string {\r\n    switch (type) {\r\n        case 'lecture': return 'محاضرة/درس';\r\n        case 'announcement': return 'إعلان عام';\r\n        case 'live': return 'بث مباشر';\r\n        default:\r\n            // Handle potential new or unexpected types gracefully\r\n            const exhaustiveCheck: never = type;\r\n            return String(type); // Fallback to the original value\r\n    }\r\n}\r\n\r\n// --- Data Fetching ---\r\nasync function fetchAnnouncements() {\r\n  isLoadingList.value = true;\r\n  listError.value = null;\r\n  try {\r\n    const { data, error } = await client\r\n      .from('announcements')\r\n      .select('*')\r\n      .order('created_at', { ascending: false });\r\n\r\n    if (error) throw error;\r\n    announcements.value = (data || []) as Announcement[];\r\n  } catch (error: any) {\r\n    console.error('Error fetching announcements:', error);\r\n    listError.value = error.message || 'فشل تحميل قائمة الإعلانات.';\r\n    announcements.value = [];\r\n  } finally {\r\n    isLoadingList.value = false;\r\n  }\r\n}\r\n\r\nonMounted(fetchAnnouncements);\r\n\r\n// --- Modal Management ---\r\nfunction openAddModal() {\r\n  editingAnnouncement.value = null;\r\n  formData.value = { ...initialFormData };\r\n  successMessage.value = null;\r\n  errorMessage.value = null;\r\n  isModalOpen.value = true;\r\n}\r\n\r\nfunction openEditModal(announcement: Announcement) {\r\n  editingAnnouncement.value = announcement;\r\n  formData.value = {\r\n    title: announcement.title,\r\n    details: announcement.details ?? '',\r\n    type: announcement.type,\r\n    date: formatISOForInput(announcement.date),\r\n    link: announcement.link ?? '',\r\n    is_published: announcement.is_published,\r\n  };\r\n  successMessage.value = null;\r\n  errorMessage.value = null;\r\n  isModalOpen.value = true;\r\n}\r\n\r\nfunction closeModal() {\r\n  isModalOpen.value = false;\r\n  editingAnnouncement.value = null;\r\n}\r\n\r\n// --- Form Handling ---\r\nconst handleSubmit = async () => {\r\n  isSaving.value = true;\r\n  successMessage.value = null;\r\n  errorMessage.value = null;\r\n\r\n   if ((formData.value.type === 'live' || formData.value.type === 'lecture') && !formData.value.link) {\r\n       errorMessage.value = 'حقل الرابط مطلوب للمحاضرات والبث المباشر.';\r\n       isSaving.value = false;\r\n       return;\r\n   }\r\n\r\n  try {\r\n    const dataToSubmit = {\r\n      title: formData.value.title,\r\n      details: formData.value.details || null,\r\n      type: formData.value.type,\r\n      date: formData.value.date ? new Date(formData.value.date).toISOString() : null,\r\n      link: formData.value.link || null,\r\n      is_published: formData.value.is_published,\r\n    };\r\n\r\n    let error;\r\n    if (editingAnnouncement.value) {\r\n      const { error: updateError } = await client\r\n        .from('announcements')\r\n        .update(dataToSubmit)\r\n        .match({ id: editingAnnouncement.value.id });\r\n      error = updateError;\r\n    } else {\r\n      const { error: insertError } = await client\r\n        .from('announcements')\r\n        .insert([dataToSubmit]);\r\n      error = insertError;\r\n    }\r\n\r\n    if (error) throw error;\r\n\r\n    successMessage.value = editingAnnouncement.value ? 'تم التحديث بنجاح!' : 'تمت الإضافة بنجاح!';\r\n    await fetchAnnouncements();\r\n    closeModal();\r\n\r\n  } catch (error: any) {\r\n    console.error('Error saving announcement:', error);\r\n    if (error.message?.includes('announcement_type')) {\r\n         errorMessage.value = 'خطأ في النوع المحدد. تأكد من تحديث قاعدة البيانات لتشمل النوع \"live\".';\r\n    } else if (error.message?.includes('violates check constraint')) {\r\n         errorMessage.value = 'حدث خطأ في البيانات المدخلة، يرجى المراجعة.';\r\n    }\r\n     else {\r\n        errorMessage.value = error.message || 'حدث خطأ غير متوقع.';\r\n     }\r\n  } finally {\r\n    isSaving.value = false;\r\n  }\r\n};\r\n\r\n// --- Delete Handling ---\r\nasync function handleDelete(id: number) {\r\n  if (!confirm('هل أنت متأكد من رغبتك في حذف هذا الإعلان؟ لا يمكن التراجع عن هذا الإجراء.')) {\r\n    return;\r\n  }\r\n  errorMessage.value = null;\r\n  try {\r\n    const { error } = await client\r\n      .from('announcements')\r\n      .delete()\r\n      .match({ id: id });\r\n    if (error) throw error;\r\n    await fetchAnnouncements();\r\n    // Optional: Show temporary success message for deletion\r\n  } catch (error: any) {\r\n    console.error('Error deleting announcement:', error);\r\n    errorMessage.value = `فشل حذف الإعلان: ${error.message}`;\r\n  }\r\n}\r\n\r\n// --- Toggle Publish Status ---\r\nasync function togglePublish(announcement: Announcement) {\r\n    const newStatus = !announcement.is_published;\r\n    errorMessage.value = null;\r\n    // Optional: Add visual feedback for loading state on the button itself\r\n    try {\r\n        const { error } = await client\r\n            .from('announcements')\r\n            .update({ is_published: newStatus })\r\n            .match({ id: announcement.id });\r\n        if (error) throw error;\r\n        await fetchAnnouncements(); // Refresh list to show updated status\r\n    } catch (error: any) {\r\n        console.error('Error toggling publish status:', error);\r\n        errorMessage.value = `فشل تحديث حالة النشر: ${error.message}`;\r\n        // Revert UI change if update failed? (More complex UI logic)\r\n    }\r\n}\r\n\r\n</script>\r\n\r\n<style scoped>\r\n/* استخدام @apply لتوحيد الأنماط */\r\n.table-th {\r\n  @apply px-6 py-3 text-right text-xs font-medium text-gray-500 dark:text-gray-300 uppercase tracking-wider;\r\n}\r\n.table-td {\r\n  @apply px-6 py-4 whitespace-nowrap text-sm;\r\n}\r\n.table-tr:hover {\r\n   @apply bg-gray-50/50 dark:hover:bg-gray-700/30;\r\n}\r\n\r\n.form-label {\r\n    @apply block text-sm font-medium text-gray-700 dark:text-gray-300 mb-1;\r\n}\r\n.form-input, .form-textarea, .form-select {\r\n    @apply w-full px-4 py-2 border border-cream-gray dark:border-gray-600 rounded-md shadow-sm focus:ring-primary focus:border-primary dark:bg-gray-700 dark:text-white;\r\n}\r\n.form-textarea {\r\n    @apply min-h-[80px];\r\n}\r\n.form-help-text {\r\n    @apply mt-1 text-xs text-gray-500 dark:text-gray-400;\r\n}\r\n.form-success-message {\r\n     @apply p-3 bg-green-100 dark:bg-green-900/50 border border-green-300 dark:border-green-700 text-green-800 dark:text-green-200 rounded-md text-sm;\r\n}\r\n.form-error-message {\r\n    @apply p-3 bg-red-100 dark:bg-red-900/50 border border-red-300 dark:border-red-700 text-red-800 dark:text-red-200 rounded-md text-sm;\r\n}\r\n.modal-button-primary {\r\n     @apply w-full inline-flex justify-center rounded-md border border-transparent shadow-sm px-4 py-2 bg-primary text-base font-medium text-white hover:bg-primary-600 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-primary sm:ms-3 sm:w-auto sm:text-sm disabled:opacity-50 dark:focus:ring-offset-gray-800;\r\n}\r\n.modal-button-secondary {\r\n     @apply mt-3 w-full inline-flex justify-center rounded-md border border-gray-300 dark:border-gray-500 shadow-sm px-4 py-2 bg-white dark:bg-gray-600 text-base font-medium text-gray-700 dark:text-gray-200 hover:bg-gray-50 dark:hover:bg-gray-500 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-indigo-500 sm:mt-0 sm:w-auto sm:text-sm;\r\n}\r\n\r\n\r\ninput[type=\"datetime-local\"]::-webkit-calendar-picker-indicator {\r\n    filter: invert(0.6) brightness(50%);\r\n    cursor: pointer;\r\n}\r\n.dark input[type=\"datetime-local\"]::-webkit-calendar-picker-indicator {\r\n     filter: invert(0.8);\r\n}\r\n\r\n/* نبض خفيف للبث المباشر في الجدول */\r\n.animate-pulse {\r\n    animation: pulse-light 1.5s cubic-bezier(0.4, 0, 0.6, 1) infinite;\r\n}\r\n@keyframes pulse-light {\r\n  0%, 100% { opacity: 1; }\r\n  50% { opacity: 0.6; }\r\n}\r\n</style>"],"version":3}