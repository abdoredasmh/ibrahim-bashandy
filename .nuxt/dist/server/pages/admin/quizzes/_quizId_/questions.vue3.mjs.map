{"version":3,"file":"questions.vue3.mjs","sources":["../../../../../../../pages/admin/quizzes/[quizId]/questions.vue"],"sourcesContent":["<template>\r\n  <div class=\"container mx-auto px-4 py-6\">\r\n    <!-- Loading State for Initial Data -->\r\n    <div v-if=\"pendingQuiz || pendingQuestions\" class=\"text-center py-10\">\r\n      <LoadingSpinner />\r\n      <p class=\"mt-2 text-gray-500 dark:text-gray-400\">جارٍ تحميل بيانات الاختبار والأسئلة...</p>\r\n    </div>\r\n\r\n    <!-- Error State -->\r\n    <div v-else-if=\"fetchErrorQuiz || fetchErrorQuestions\" class=\"my-4 p-4 bg-red-100 border border-red-400 text-red-700 rounded\">\r\n      <strong class=\"font-bold\">خطأ!</strong>\r\n      <p>حدث خطأ أثناء تحميل البيانات:</p>\r\n      <ul class=\"list-disc list-inside mt-1 text-sm\">\r\n        <li v-if=\"fetchErrorQuiz\">فشل تحميل بيانات الاختبار: {{ fetchErrorQuiz.message }}</li>\r\n        <li v-if=\"fetchErrorQuestions\">فشل تحميل الأسئلة: {{ fetchErrorQuestions.message }}</li>\r\n      </ul>\r\n       <NuxtLink to=\"/admin/quizzes\" class=\"mt-3 inline-block text-indigo-600 hover:underline\">العودة لقائمة الاختبارات</NuxtLink>\r\n    </div>\r\n\r\n     <!-- Not Found State -->\r\n     <div v-else-if=\"!quiz\" class=\"my-4 p-4 bg-yellow-100 border border-yellow-400 text-yellow-700 rounded text-center\">\r\n        لم يتم العثور على الاختبار المطلوب (ID: {{ quizId }}).\r\n        <NuxtLink to=\"/admin/quizzes\" class=\"mt-3 block text-indigo-600 hover:underline\">العودة لقائمة الاختبارات</NuxtLink>\r\n     </div>\r\n\r\n    <!-- Main Content Area -->\r\n    <div v-else>\r\n      <!-- Header: Quiz Title and Add Question Button -->\r\n      <div class=\"flex flex-col sm:flex-row justify-between items-start sm:items-center mb-6 gap-4 pb-4 border-b dark:border-gray-700\">\r\n        <div>\r\n            <NuxtLink to=\"/admin/quizzes\" class=\"text-sm text-gray-500 dark:text-gray-400 hover:underline flex items-center gap-1 mb-1\">\r\n                <svg xmlns=\"http://www.w3.org/2000/svg\" viewBox=\"0 0 16 16\" fill=\"currentColor\" class=\"w-4 h-4\"><path fill-rule=\"evenodd\" d=\"M14 8a.75.75 0 0 1-.75.75H4.56l3.22 3.22a.75.75 0 1 1-1.06 1.06l-4.5-4.5a.75.75 0 0 1 0-1.06l4.5-4.5a.75.75 0 0 1 1.06 1.06L4.56 7.25H13.25A.75.75 0 0 1 14 8Z\" clip-rule=\"evenodd\" /></svg>\r\n                <span>الاختبارات</span>\r\n            </NuxtLink>\r\n            <h1 class=\"text-2xl font-semibold text-gray-700 dark:text-gray-200\">إدارة أسئلة الاختبار: {{ quiz.title }}</h1>\r\n            <p class=\"text-sm text-gray-500 dark:text-gray-400 mt-1\">{{ formatQuizType(quiz.type) }}\r\n                 <span v-if=\"quiz.type === 'lesson'\"> للدرس: {{ quiz.lessons?.title }}</span>\r\n                 <span v-if=\"quiz.type === 'module'\"> للوحدة {{quiz.module_number}} في دورة: {{ quiz.study_courses?.title }}</span>\r\n                 <span v-if=\"quiz.type === 'final'\"> لدورة: {{ quiz.study_courses?.title }}</span>\r\n            </p>\r\n        </div>\r\n        <button\r\n          @click=\"openAddQuestionModal\"\r\n          class=\"flex-shrink-0 inline-flex items-center justify-center rounded-md border border-transparent bg-indigo-600 px-4 py-2 text-sm font-medium text-white shadow-sm hover:bg-indigo-700 focus:outline-none focus:ring-2 focus:ring-indigo-500 focus:ring-offset-2 dark:focus:ring-offset-gray-800\"\r\n        >\r\n           <svg xmlns=\"http://www.w3.org/2000/svg\" viewBox=\"0 0 16 16\" fill=\"currentColor\" class=\"w-4 h-4 -ml-1 mr-2 rtl:ml-2 rtl:-mr-1\"><path fill-rule=\"evenodd\" d=\"M8 15A7 7 0 1 0 8 1a7 7 0 0 0 0 14Zm.75-10.25v2.5h2.5a.75.75 0 0 1 0 1.5h-2.5v2.5a.75.75 0 0 1-1.5 0v-2.5h-2.5a.75.75 0 0 1 0-1.5h2.5v-2.5a.75.75 0 0 1 1.5 0Z\" clip-rule=\"evenodd\" /></svg>\r\n          إضافة سؤال جديد\r\n        </button>\r\n      </div>\r\n\r\n       <!-- Action Feedback Messages -->\r\n       <div v-if=\"actionMessage\" :class=\"['mb-4 p-3 border rounded text-sm', actionMessageType === 'success' ? 'bg-green-100 border-green-300 text-green-700' : 'bg-red-100 border-red-300 text-red-700']\">\r\n           {{ actionMessage }}\r\n       </div>\r\n\r\n      <!-- Questions List -->\r\n      <div v-if=\"questions && questions.length > 0\" class=\"space-y-4\">\r\n          <div v-for=\"(question, index) in questions\" :key=\"question.id\" class=\"bg-white dark:bg-gray-800 shadow rounded-lg p-4 border dark:border-gray-700 flex flex-col sm:flex-row justify-between items-start gap-4\">\r\n              <div class=\"flex-1 min-w-0\">\r\n                <p class=\"text-xs text-gray-500 dark:text-gray-400 mb-1\">\r\n                    السؤال {{ index + 1 }} ({{ formatQuestionType(question.type) }} - {{ question.points }} {{ question.points === 1 ? 'نقطة' : 'نقاط' }})\r\n                </p>\r\n                <p class=\"text-sm font-medium text-gray-900 dark:text-gray-100 break-words mb-2\">{{ question.question_text }}</p>\r\n               \r\n                 <div v-if=\"(question.type === 'mcq' || question.type === 'true_false') && question.question_options && question.question_options.length > 0\" class=\"mt-2 space-y-1 text-xs pl-4 rtl:pr-4 border-t dark:border-gray-700 pt-2\">\r\n                     <h5 class=\"text-xs font-semibold text-gray-500 dark:text-gray-400 mb-1\">الخيارات:</h5>\r\n                     <div v-for=\"option in question.question_options\" :key=\"option.id\" :class=\"['flex items-center gap-2', option.is_correct ? 'text-green-700 dark:text-green-300 font-medium' : 'text-gray-600 dark:text-gray-400']\">\r\n                      \r\n                         <span class=\"flex-shrink-0 w-3 h-3\">\r\n                            <svg v-if=\"option.is_correct\" xmlns=\"http://www.w3.org/2000/svg\" viewBox=\"0 0 16 16\" fill=\"currentColor\"><path fill-rule=\"evenodd\" d=\"M12.416 3.376a.75.75 0 0 1 .208 1.04l-5 7.5a.75.75 0 0 1-1.154.114l-3-3a.75.75 0 0 1 1.06-1.06l2.35 2.35 4.492-6.738a.75.75 0 0 1 1.04-.208Z\" clip-rule=\"evenodd\" /></svg>\r\n                            <svg v-else xmlns=\"http://www.w3.org/2000/svg\" viewBox=\"0 0 16 16\" fill=\"currentColor\"><path d=\"M8 15A7 7 0 1 1 8 1a7 7 0 0 1 0 14Zm2.78-4.22a.75.75 0 0 0-1.06-1.06L8 11.44l-1.72-1.72a.75.75 0 0 0-1.06 1.06L6.94 12.5l-1.72 1.72a.75.75 0 1 0 1.06 1.06L8 13.56l1.72 1.72a.75.75 0 1 0 1.06-1.06L9.06 12.5l1.72-1.72Z\" /></svg>\r\n                         </span>\r\n                         <span>{{ option.option_text }}</span>\r\n                     </div>\r\n                 </div>\r\n              </div>\r\n         \r\n              <div class=\"flex-shrink-0 flex flex-col sm:flex-row gap-2 items-end sm:items-center mt-2 sm:mt-0\">\r\n                <button @click=\"openEditQuestionModal(question)\" class=\"text-xs text-indigo-600 hover:text-indigo-900 dark:text-indigo-400 dark:hover:text-indigo-300 px-2 py-1 rounded hover:bg-indigo-50 dark:hover:bg-indigo-900/30 flex items-center gap-1\">\r\n                    <svg xmlns=\"http://www.w3.org/2000/svg\" viewBox=\"0 0 16 16\" fill=\"currentColor\" class=\"w-3 h-3\"><path d=\"M13.488 2.513a1.75 1.75 0 0 0-2.475 0L6.75 6.774v2.475h2.475l4.263-4.262a1.75 1.75 0 0 0 0-2.474Z\" /><path d=\"M4.75 3.5c-.69 0-1.25.56-1.25 1.25v6.5c0 .69.56 1.25 1.25 1.25h6.5c.69 0 1.25-.56 1.25-1.25V9.81a.75.75 0 0 0-1.5 0v1.44c0 .138-.112.25-.25.25h-6.5a.25.25 0 0 1-.25-.25v-6.5c0-.138.112-.25.25-.25h1.44a.75.75 0 0 0 0-1.5H4.75Z\" /></svg>\r\n                    <span>تعديل</span>\r\n                </button>\r\n                <button @click=\"confirmDeleteQuestion(question)\" class=\"text-xs text-red-600 hover:text-red-900 dark:text-red-400 dark:hover:text-red-300 px-2 py-1 rounded hover:bg-red-50 dark:hover:bg-red-900/30 flex items-center gap-1\">\r\n                    <svg xmlns=\"http://www.w3.org/2000/svg\" viewBox=\"0 0 16 16\" fill=\"currentColor\" class=\"w-3 h-3\"><path fill-rule=\"evenodd\" d=\"M5 3.25V4H2.75a.75.75 0 0 0 0 1.5h.3l.815 8.15A1.5 1.5 0 0 0 5.357 15h5.285a1.5 1.5 0 0 0 1.493-1.35l.815-8.15h.3a.75.75 0 0 0 0-1.5H11v-.75A2.25 2.25 0 0 0 8.75 1h-1.5A2.25 2.25 0 0 0 5 3.25Zm2.5-.75v.75h1V2.5h-1Z\" clip-rule=\"evenodd\" /></svg>\r\n                    <span>حذف</span>\r\n                </button>\r\n              </div>\r\n          </div>\r\n      </div>\r\n       <div v-else-if=\"!pendingQuestions\" class=\"text-center py-10 text-gray-500 dark:text-gray-400\">\r\n           لم يتم إضافة أي أسئلة لهذا الاختبار بعد.\r\n           <button @click=\"openAddQuestionModal\" class=\"ml-2 text-indigo-600 hover:underline\">إضافة أول سؤال</button>\r\n       </div>\r\n\r\n       <!-- Add/Edit Question Modal -->\r\n       <AdminAddEditQuestionModal\r\n            v-model=\"showQuestionModal\"\r\n            :quiz-id=\"quizIdNumber\"\r\n            :question-data=\"selectedQuestionForEdit\"\r\n            @saved=\"handleQuestionSaved\"\r\n       />\r\n\r\n        <!-- Confirmation Modal for Question Delete -->\r\n       <AdminConfirmationModal\r\n         v-model=\"showDeleteQuestionConfirm\"\r\n         :config=\"deleteQuestionConfirmConfig\"\r\n         @confirm=\"deleteQuestion\"\r\n         @close=\"questionToDelete = null\"\r\n     />\r\n\r\n    </div>\r\n  </div>\r\n</template>\r\n\r\n<script setup lang=\"ts\">\r\nimport { ref, computed, onMounted, watch } from 'vue';\r\nimport type { Database, Tables } from '~/types/database.types';\r\nimport LoadingSpinner from '~/components/LoadingSpinner.vue';\r\n// Use Auto-import for Modals and Components\r\n// import AdminAddEditQuestionModal from '~/components/admin/AddEditQuestionModal.vue'; // Auto-imported likely\r\n// import AdminConfirmationModal from '~/components/admin/ConfirmationModal.vue'; // Auto-imported likely\r\nimport { type ConfirmationConfig } from '~/components/admin/ConfirmationModal.vue'; // Still need type\r\nimport { useSupabaseClient, definePageMeta, useNuxtApp, useRoute, navigateTo } from '#imports';\r\nimport type { PostgrestError } from '@supabase/supabase-js';\r\n\r\n// --- Define Types ---\r\ntype QuizView = Tables<'quizzes'> & {\r\n  lessons?: Pick<Tables<'lessons'>, 'title'> | null;\r\n  study_courses?: Pick<Tables<'study_courses'>, 'title'> | null;\r\n};\r\ntype QuestionOption = Tables<'question_options'>; // Define Option type\r\ntype QuestionView = Tables<'quiz_questions'> & {\r\n    question_options?: QuestionOption[]; // Use defined Option type\r\n};\r\n\r\n// --- Page Meta ---\r\ndefinePageMeta({ layout: 'admin', middleware: 'admin' });\r\n\r\n// --- Composables ---\r\nconst supabase = useSupabaseClient<Database>();\r\nconst { $toast } = useNuxtApp();\r\nconst route = useRoute();\r\nconst quizId = computed(() => route.params.quizId as string);\r\n// Validate quizId is a number early\r\nconst quizIdNumber = computed(() => {\r\n    const id = parseInt(quizId.value, 10);\r\n    return isNaN(id) ? null : id;\r\n});\r\n\r\n// --- State ---\r\nconst pendingQuiz = ref(true);\r\nconst pendingQuestions = ref(true);\r\nconst fetchErrorQuiz = ref<PostgrestError | { message: string } | null>(null); // Allow custom error message\r\nconst fetchErrorQuestions = ref<PostgrestError | { message: string } | null>(null);\r\nconst quiz = ref<QuizView | null>(null);\r\nconst questions = ref<QuestionView[]>([]);\r\n\r\n// Modal State\r\nconst showQuestionModal = ref(false);\r\nconst selectedQuestionForEdit = ref<QuestionView | null>(null);\r\nconst showDeleteQuestionConfirm = ref(false);\r\nconst questionToDelete = ref<QuestionView | null>(null);\r\nconst deleteQuestionConfirmConfig = ref<ConfirmationConfig | null>(null);\r\n\r\n// Action Feedback\r\nconst actionMessage = ref<string | null>(null);\r\nconst actionMessageType = ref<'success' | 'error'>('success');\r\n\r\n// --- Fetch Data ---\r\nconst fetchQuizDetails = async () => {\r\n  pendingQuiz.value = true; fetchErrorQuiz.value = null; quiz.value = null;\r\n  if (quizIdNumber.value === null) {\r\n    fetchErrorQuiz.value = { message: 'معرف الاختبار في الرابط غير صالح.' }; pendingQuiz.value = false; return;\r\n  }\r\n  try {\r\n    const { data, error } = await supabase.from('quizzes').select(`*, lessons (title), study_courses (title)`).eq('id', quizIdNumber.value).single();\r\n    if (error) throw error; if (!data) throw new Error('لم يتم العثور على الاختبار.'); quiz.value = data as QuizView;\r\n  } catch (err: any) { console.error(\"Error fetching quiz details:\", err); fetchErrorQuiz.value = (err as PostgrestError) ?? { message: 'خطأ غير معروف.' };\r\n  } finally { pendingQuiz.value = false; }\r\n};\r\n\r\nconst fetchQuestions = async () => {\r\n  pendingQuestions.value = true; fetchErrorQuestions.value = null; questions.value = [];\r\n  if (quizIdNumber.value === null) {\r\n     fetchErrorQuestions.value = { message: 'معرف الاختبار غير صالح لتحميل الأسئلة.' }; pendingQuestions.value = false; return;\r\n  }\r\n  try {\r\n     const { data, error } = await supabase.from('quiz_questions').select(`*, question_options (*)`).eq('quiz_id', quizIdNumber.value).order('question_order', { ascending: true, nulls: 'last' }).order('created_at', { ascending: true });\r\n     if (error) throw error; questions.value = (data || []) as QuestionView[];\r\n  } catch (err: any) { console.error(\"Error fetching questions:\", err); fetchErrorQuestions.value = err as PostgrestError;\r\n  } finally { pendingQuestions.value = false; }\r\n};\r\n\r\n// --- Modal Handling ---\r\nconst openAddQuestionModal = () => { selectedQuestionForEdit.value = null; showQuestionModal.value = true; };\r\nconst openEditQuestionModal = (question: QuestionView) => { selectedQuestionForEdit.value = { ...question, question_options: [...(question.question_options ?? [])] }; showQuestionModal.value = true; }; // Deep copy options\r\nconst handleQuestionSaved = (savedQuestion: QuestionView) => {\r\n    showToast('تم حفظ السؤال بنجاح!', 'success'); showQuestionModal.value = false; refreshQuestions();\r\n};\r\n\r\n// --- Delete Handling ---\r\nconst confirmDeleteQuestion = (question: QuestionView) => {\r\n    questionToDelete.value = question;\r\n    deleteQuestionConfirmConfig.value = { /* ... as before ... */\r\n        title: 'تأكيد حذف السؤال', message: `هل أنت متأكد من حذف السؤال: \"${question.question_text.substring(0, 50)}...\"؟ سيتم حذف خياراته أيضًا.`, confirmText: 'نعم، حذف السؤال', confirmClass: 'bg-red-600 hover:bg-red-700 focus:ring-red-500', cancelText: 'إلغاء'\r\n    }; showDeleteQuestionConfirm.value = true;\r\n};\r\nconst deleteQuestion = async () => {\r\n    if (!questionToDelete.value) return;\r\n    const idToDelete = questionToDelete.value.id; const textToDelete = questionToDelete.value.question_text.substring(0, 30);\r\n    try {\r\n        const { error } = await supabase.from('quiz_questions').delete().eq('id', idToDelete); if (error) throw error;\r\n        questions.value = questions.value.filter(q => q.id !== idToDelete); showToast(`تم حذف السؤال \"${textToDelete}...\" بنجاح.`, 'success');\r\n    } catch (err: any) { console.error(\"Error deleting question:\", err); showActionMessage(`فشل حذف السؤال: ${err.message}`, 'error');\r\n    } finally { questionToDelete.value = null; showDeleteQuestionConfirm.value = false; }\r\n};\r\n\r\n// --- Helper Functions ---\r\nconst formatDate = (dateString: string | null | undefined): string => { if (!dateString) return '--'; try { const d=new Date(dateString); return d.toLocaleString('ar-EG',{dateStyle:'short',timeStyle:'short'})} catch{return '!'}};\r\nconst formatQuizType = (type: string | null | undefined): string => { switch (type) { case 'lesson': return 'اختبار درس'; case 'module': return 'اختبار وحدة'; case 'final': return 'اختبار نهائي'; case 'practice': return 'اختبار تدريبي'; default: return 'غير محدد'; }};\r\nconst formatQuestionType = (type: string | null | undefined): string => { switch (type) { case 'mcq': return 'اختيار من متعدد'; case 'true_false': return 'صح / خطأ'; case 'written': return 'كتابي'; default: return 'غير محدد'; }};\r\nconst showToast = (message: string, type: 'success' | 'error' | 'info' = 'info') => { if ($toast?.[type]) $toast[type](message); else console.log(`[${type.toUpperCase()}] ${message}`); };\r\nconst showActionMessage = (msg: string, type: 'success' | 'error') => { actionMessage.value = msg; actionMessageType.value = type; setTimeout(() => { actionMessage.value = null; }, 5000); };\r\nconst clearActionMessage = () => { actionMessage.value = null; };\r\nconst refreshQuestions = () => { fetchQuestions(); };\r\n\r\n// --- Lifecycle Hooks & Watchers ---\r\nonMounted(() => { if (quizIdNumber.value !== null) { fetchQuizDetails(); fetchQuestions(); } else { fetchErrorQuiz.value = { message: 'معرف الاختبار في الرابط غير صالح.' }; pendingQuiz.value = false; pendingQuestions.value = false; } });\r\nwatch(quizIdNumber, (newId) => { if (newId !== null) { fetchQuizDetails(); fetchQuestions(); } });\r\n\r\n</script>\r\n\r\n<style scoped>\r\n.custom-scrollbar::-webkit-scrollbar { width: 6px; }\r\n.custom-scrollbar::-webkit-scrollbar-thumb { background-color: rgba(156, 163, 175, 0.5); border-radius: 3px; }\r\n.custom-scrollbar:hover::-webkit-scrollbar-thumb { background-color: rgba(156, 163, 175, 0.8); }\r\n.custom-scrollbar::-webkit-scrollbar-track { background: transparent; }\r\n.whitespace-pre-wrap { white-space: pre-wrap; word-wrap: break-word; }\r\n.break-words { word-break: break-word; }\r\n</style>"],"names":[],"mappings":"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"}