{"file":"index.vue2.mjs","mappings":";;;;;;;;;;;;;;AA4OA,UAAM,SAAS,kBAA4B;AAWrB,QAAI,KAAK;AACT,QAAI,EAAE;AACJ,QAAI,EAAE;AAGxB,UAAA,YAAY,IAAmB,IAAI;AAkBzC,aAAS,uBAAuB,KAA+C;AACvE,UAAA,CAAC,IAAY,QAAA;AACjB,UAAI,UAAyB;AACzB,UAAA;AACM,cAAA,SAAS,IAAI,IAAI,GAAG;AACtB,YAAA,OAAO,aAAa,YAAY;AAAY,oBAAA,OAAO,SAAS,MAAM,CAAC;AAAA,QAC9D,WAAA,OAAO,SAAS,SAAS,aAAa,GAAG;AACpC,oBAAA,OAAO,aAAa,IAAI,GAAG;AACrC,cAAI,CAAC,WAAW,OAAO,aAAa,IAAI,MAAM,GAAG;AAAS,mBAAA;AAAA,UAAA;AAAA,QAAM;AAAA,eAE/D,GAAG;AAAU,gBAAA,MAAM,8BAA8B,CAAC;AAAU,eAAA;AAAA,MAAA;AACrE,UAAI,SAAS;AAAE,eAAO,8BAA8B,OAAO;AAAA,MAAA;AACpD,aAAA;AAAA,IAAA;AAKF,aAAA,oBAAoB,MAA2B,IAA6B;AACjF,cAAQ,MAAM;AAAA,QACV,KAAK;AAAU,iBAAO,YAAY,EAAE;AAAA,QACpC,KAAK;AAAQ,iBAAO,UAAU,EAAE;AAAA,QAChC,KAAK;AAAU,iBAAO,kBAAkB,EAAE;AAAA,QAC1C;AAAgB,iBAAA;AAAA,MAAA;AAAA,IACpB;AAIJ,mBAAe,oBAAoB;;AACjC,cAAQ,IAAI,yCAAyC;AACpD,YAAM,eAAe,OAAO,KAAK,cAAc,EAAE,OAAO,8BAA8B,EAAE,GAAG,MAAM,CAAC,EAAE,YAAY;AAC1G,YAAA,iBAAiB,OAAO,KAAK,SAAS,EAAE,OAAO,oCAAoC,EAAE,GAAG,aAAa,IAAI,EAAE,MAAM,cAAc,EAAE,WAAW,OAAO,EAAE,MAAM,CAAC;AAClK,YAAM,eAAe,OAAO,KAAK,OAAO,EAAE,OAAO,wCAAwC,EAAE,MAAM,cAAc,EAAE,WAAW,MAAA,CAAO,EAAE,MAAM,CAAC;AACtI,YAAA,iBAAiB,OAAO,KAAK,eAAe,EAAE,OAAO,6CAA6C,EAAE,GAAG,aAAa,IAAI,EAAE,MAAM,cAAc,EAAE,WAAW,OAAO,EAAE,MAAM,CAAC;AAC3K,YAAA,uBAAuB,OAAO,KAAK,eAAe,EAAE,OAAO,sCAAsC,EAAE,GAAG,gBAAgB,IAAI,EAAE,MAAM,QAAQ,EAAE,WAAW,OAAO,YAAY,MAAO,CAAA,EAAE,MAAM,CAAC;AAC1L,YAAA,mBAAmB,OAAO,KAAK,qBAAqB,EAAE,OAAO,gCAAgC,EAAE,GAAG,aAAa,IAAI,EAAE,GAAG,eAAe,IAAI,EAAE,MAAM,eAAe,EAAE,WAAW,MAAO,CAAA,EAAE,MAAM,CAAC;AACrM,YAAM,qBAAqB,OAAO,KAAK,UAAU,EAAE,OAAO,uBAAuB,EAAE,MAAM,UAAU,EAAE,WAAW,MAAA,CAAO,EAAE,MAAM,CAAC;AAE3H,YAAA;AAAA,QACJ;AAAA,QAAuB;AAAA,QAAmB;AAAA,QAAqB;AAAA,QAC/D;AAAA,QAAiB;AAAA,QAAe;AAAA,MAAA,IAC9B,MAAM,QAAQ,IAAI;AAAA,QACpB;AAAA,QAAsB;AAAA,QAAkB;AAAA,QAAoB;AAAA,QAC5D;AAAA,QAAgB;AAAA,QAAc;AAAA,MAAA,CAC/B;AACA,YAAM,SAAS;AAAA;AAAA,MAAA,EAAc,OAAO,OAAO;AACvC,UAAA,OAAO,SAAS,GAAG;AAAE,gBAAQ,MAAM,kCAAkC,OAAO,IAAI,CAAK,MAAA,uBAAG,OAAO,CAAC;AAAA,MAAA;AAErG,YAAM,uBAAqB,uBAAkB,SAAlB,mBAAwB,IAAI,CAAM,MAAA;;AAAA,iBAAE,IAAI,EAAE,IAAI,OAAO,EAAE,eAAe,iBAAeA,MAAA,EAAE,gBAAF,gBAAAA,IAAe,UAAU,GAAG,SAAQ,EAAE,eAAe,EAAE,YAAY,SAAS,MAAM,QAAQ,OAAO,MAAM;AAAA,aAAO,CAAC;AAC/N,YAAM,yBAAuB,yBAAoB,SAApB,mBAA0B,IAAI,CAAM,OAAA,EAAE,QAAQ,EAAE,IAAI,UAAU,EAAE,aAAa,UAAU,OAAO,EAAE,UAAU,UAAS,CAAC;AACjJ,YAAM,qBAAmB,qBAAgB,SAAhB,mBAAsB,IAAI,CAAS,UAAA,EAAE,IAAI,KAAK,IAAI,OAAO,KAAK,OAAO,MAAM,UAAmB,WAAW,uBAAuB,KAAK,WAAW,GAAG,YAAY,KAAK,YAAY,MAAM,oBAAoB,UAAU,KAAK,EAAE,EAAE,QAAO,CAAC;AAC9P,YAAM,mBAAiB,mBAAc,SAAd,mBAAoB,IAAI,CAAS,UAAA,EAAE,IAAI,KAAK,IAAI,OAAO,KAAK,OAAO,MAAM,QAAiB,WAAW,KAAK,iBAAiB,YAAY,KAAK,YAAY,MAAM,oBAAoB,QAAQ,KAAK,EAAE,EAAI,QAAK,CAAC;AAClO,YAAM,qBAAmB,qBAAgB,SAAhB,mBAAsB,IAAI,CAAS,UAAA,EAAE,IAAI,KAAK,IAAI,OAAO,KAAK,OAAO,MAAM,UAAmB,WAAW,uBAAuB,KAAK,oBAAoB,GAAG,YAAY,KAAK,YAAY,MAAM,oBAAoB,UAAU,KAAK,EAAE,EAAE,QAAO,CAAC;AAEhQ,aAAA;AAAA,QACL,WAAW,cAAc;AAAA,QACzB,eAAgB,sBAAsB,QAAQ,CAAC;AAAA,QAC/C,iBAAiB;AAAA,QACjB,aAAa;AAAA,QACb,eAAe;AAAA,QACf,aAAa;AAAA,QACb,eAAe;AAAA,MACjB;AAAA,IAAA;AAII,UAAA,EAAE,MAAM,SAAS,MAAM,KAAI,CAAA,QAAA,SAAA,IAAAC,iBAAA,MAAM,aAAa,gBAAgB,mBAAmB,EAAE,MAAM,MAAM,CAAA;AAGrG,UAAM,YAAY,SAAS,MAAA;;AAAM,yBAAK,UAAL,mBAAY,cAAa;AAAA,KAAI;AAC9D,UAAM,mBAAmB,SAAS,MAAA;;AAAM,yBAAK,UAAL,mBAAY,kBAAiB;KAAE;AACvE,UAAM,kBAAkB,SAAS,MAAA;;AAAM,yBAAK,UAAL,mBAAY,oBAAmB;KAAE;AACxE,UAAM,cAAc,SAAS,MAAA;;AAAM,yBAAK,UAAL,mBAAY,gBAAe;KAAE;AAChE,UAAM,gBAAgB,SAAS,MAAA;;AAAM,yBAAK,UAAL,mBAAY,kBAAiB;KAAE;AACpE,UAAM,cAAc,SAAS,MAAA;;AAAM,yBAAK,UAAL,mBAAY,gBAAe;KAAE;AAChE,UAAM,gBAAgB,SAAS,MAAA;;AAAM,yBAAK,UAAL,mBAAY,kBAAiB;KAAE;AAG9D,UAAA,wBAAwB,SAAmC,MAAM;AACjE,UAAA,CAAC,iBAAiB,MAAc,QAAA;AAC9B,YAAA,0BAAU,KAAK;AAEd,aAAA,CAAC,GAAG,iBAAiB,KAAK,EAC9B,OAAO,CAAA,OAAM,EAAE,SAAS,aAAa,EAAE,SAAS,WAAW,EAAE,IAAI,EACjE,KAAK,CAAC,GAAG,MAAM,IAAI,KAAK,EAAE,IAAK,EAAE,QAAY,IAAA,IAAI,KAAK,EAAE,IAAK,EAAE,SAAS,EACxE,KAAK,CAAK,MAAA,IAAI,KAAK,EAAE,IAAK,EAAE,QAAA,KAAa,IAAI,QAAa,IAAA,IAAI,KAAK,KAAK,GAAK;AAAA,IAAA,CACjF;AAGK,UAAA,wBAAwB,SAAS,MAAM;;AACnC,YAAA,cAAa,2BAAsB,UAAtB,mBAA6B;AACzC,aAAA,iBAAiB,MAAM,OAAO,CAAK,MAAA;AAClC,YAAA,EAAE,SAAS,OAAe,QAAA;AAC1B,YAAA,EAAE,OAAO,WAAmB,QAAA;AACzB,eAAA;AAAA,MAAA,CACV;AAAA,IAAA,CACJ;AAiDK,UAAA,WAAW,SAAS,MAAM;AAC9B,YAAM,QAAO,oBAAI,KAAK,GAAE,SAAS;AAC7B,UAAA,OAAO,EAAU,QAAA;AACjB,UAAA,OAAO,GAAW,QAAA;AAClB,UAAA,OAAO,GAAW,QAAA;AACf,aAAA;AAAA,IAAA,CACR;AAGD,aAAS,WAAW,YAAmC;AACjD,UAAA,CAAC,WAAmB,QAAA;AACpB,UAAA;AACI,cAAA,OAAO,IAAI,KAAK,UAAU;AAChC,YAAI,MAAM,KAAK,QAAS,CAAA,EAAU,QAAA;AAC3B,eAAA,KAAK,mBAAmB,SAAS,EAAE,MAAM,WAAW,OAAO,SAAS,KAAK,WAAW;AAAA,eACpF,GAAG;AAAU,gBAAA,MAAM,0BAA0B,CAAC;AAAG,eAAO,cAAc;AAAA,MAAA;AAAA,IAAI;AAsBrF,aAAS,UAAU,YAAoC;AAC/C,UAAA,CAAC,WAAmB,QAAA;AACpB,UAAA;AACM,cAAA,0BAAU,KAAK;AACf,cAAA,YAAY,IAAI,KAAK,UAAU;AACrC,YAAI,MAAM,UAAU,QAAS,CAAA,EAAU,QAAA;AACjC,cAAA,kBAAkB,IAAI,KAAK,KAAK;AACtC,cAAM,WAAW,IAAI,KAAK,UAAU,QAAA,IAAY,eAAe;AACxD,eAAA,aAAa,OAAO,MAAM;AAAA,eAC5B,GAAG;AAAU,gBAAA,MAAM,+BAA+B,CAAC;AAAU,eAAA;AAAA,MAAA;AAAA,IAAO;AAEjF,aAAS,YAAY,MAA4C;AAC7D,cAAQ,MAAM;AAAA,QACV,KAAK;AAAkB,iBAAA;AAAA,QACvB,KAAK;AAAuB,iBAAA;AAAA,QAC5B,KAAK;AAAe,iBAAA;AAAA,QACpB;AAAgB,iBAAA;AAAA,MAAA;AAAA,IACpB;AAEJ,aAAS,eAAe,MAAmC;AACzD,cAAQ,MAAM;AAAA,QACZ,KAAK;AAAiB,iBAAA;AAAA,QACtB,KAAK;AAAe,iBAAA;AAAA,QACpB,KAAK;AAAiB,iBAAA;AAAA,QACtB;AAAgB,iBAAA;AAAA,MAAA;AAAA,IAClB;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;","names":["_a","_withAsyncContext"],"sources":["../../../../pages/index.vue"],"sourcesContent":["<template>\r\n  <div>\r\n    <!-- 1. Hero Section -->\r\n    <section class=\"bg-gradient-to-br from-beige-light via-cream-gray to-yellow-50 py-20 px-6 relative overflow-hidden\">\r\n      <div class=\"container mx-auto flex flex-col md:flex-row items-center gap-8 text-center md:text-right\">\r\n        <div class=\"md:w-2/3 z-10\">\r\n          <h1 class=\"text-3xl md:text-4xl lg:text-5xl font-bold text-olive-green mb-4\">\r\n            {{ greeting }} فضيلة الشيخ إبراهيم بشندي\r\n          </h1>\r\n          <p v-if=\"pending\" class=\"text-lg text-brown-dark dark:text-gray-300 leading-relaxed mb-6\">\r\n            جاري تحميل النبذة...\r\n          </p>\r\n          <p v-else-if=\"error || !aboutData\" class=\"text-lg text-red-500 leading-relaxed mb-6\">\r\n            لم يتم تحميل النبذة.\r\n          </p>\r\n          <p v-else class=\"text-lg text-brown-dark dark:text-gray-300 leading-relaxed mb-6\">\r\n            {{ aboutData.short_bio || 'نبذة مختصرة عن حياة الشيخ إبراهيم بشندي ومسيرته العلمية والدعوية...' }}\r\n          </p>\r\n          <div class=\"flex flex-col sm:flex-row items-center justify-center md:justify-start gap-4 mt-8\">\r\n            <NuxtLink to=\"/about\" class=\"btn-primary\">\r\n              المزيد عن الشيخ\r\n            </NuxtLink>\r\n            <button\r\n              v-if=\"upcomingLectureOrLive?.link\"\r\n              @click=\"openLiveStreamModal(upcomingLectureOrLive)\"\r\n              aria-label=\"مشاهدة البث المباشر أو المحاضرة القادمة\"\r\n              :class=\"[upcomingLectureOrLive?.type === 'live' ? 'btn-live' : 'btn-upcoming-lecture']\">\r\n              <svg xmlns=\"http://www.w3.org/2000/svg\" class=\"h-6 w-6\" fill=\"none\"\r\n                   viewBox=\"0 0 24 24\" stroke=\"currentColor\" stroke-width=\"2\">\r\n                <path stroke-linecap=\"round\" stroke-linejoin=\"round\"\r\n                      d=\"M15.75 10.5l4.72-4.72a.75.75 0 011.28.53v11.38a.75.75 0 01-1.28.53l-4.72-4.72M4.5 18.75h9a2.25 2.25 0 002.25-2.25v-9A2.25 2.25 0 0013.5 5.25h-9A2.25 2.25 0 002.25 7.5v9A2.25 2.25 0 004.5 18.75z\" />\r\n              </svg>\r\n              <span>\r\n                {{ isLiveNow(upcomingLectureOrLive?.date) ? (upcomingLectureOrLive?.type === 'live' ? 'شاهد البث الآن' : 'المحاضرة الآن') : (countdown ? 'يبدأ خلال ' + countdown : (upcomingLectureOrLive?.type === 'live' ? 'البث القادم' : 'المحاضرة القادمة')) }}\r\n              </span>\r\n            </button>\r\n          </div>\r\n        </div>\r\n        <div class=\"md:w-1/3 flex justify-center md:justify-start z-10\">\r\n          <NuxtImg\r\n            :src=\"aboutData?.profile_image_url || '/images/placeholder-sheikh.jpg'\"\r\n            alt=\"صورة الشيخ إبراهيم بشندي\"\r\n            class=\"rounded-lg shadow-xl w-64 h-64 md:w-72 md:h-72 object-cover border-4 border-white dark:border-gray-700\"\r\n            sizes=\"256px md:288px\" format=\"webp\" quality=\"85\" loading=\"lazy\" :placeholder=\"[60, 60, 75, 5]\" />\r\n        </div>\r\n      </div>\r\n      <div class=\"absolute -bottom-1/4 -left-1/4 w-1/2 h-1/2 bg-olive-green/10 dark:bg-olive-green/5 rounded-full opacity-30 blur-3xl z-0\"></div>\r\n      <div class=\"absolute -top-1/4 -right-1/4 w-1/2 h-1/2 bg-golden-calm/10 dark:bg-golden-calm/5 rounded-full opacity-30 blur-3xl z-0\"></div>\r\n    </section>\r\n\r\n    <!-- 2. مواعيد الدروس والإعلانات (تعديل عرض التاريخ) -->\r\n    <section class=\"py-16 px-4 bg-white dark:bg-gray-900\">\r\n      <div class=\"container mx-auto\">\r\n        <h2 class=\"text-3xl font-bold text-center text-brown-dark dark:text-beige-light mb-10\">\r\n          مواعيد الدروس والإعلانات\r\n        </h2>\r\n        <div v-if=\"pending\" class=\"text-center py-10 text-gray-500 dark:text-gray-400\">جاري تحميل المواعيد...</div>\r\n        <div v-else-if=\"error && !data?.announcements\" class=\"text-center py-10 text-red-500\">حدث خطأ أثناء تحميل المواعيد.</div>\r\n        <div v-else-if=\"!filteredAnnouncements?.length\" class=\"text-center py-10 text-gray-500 dark:text-gray-400\">لا توجد مواعيد أو إعلانات (غير البث المباشر) حاليًا.</div>\r\n        <div v-else class=\"grid grid-cols-1 md:grid-cols-2 gap-6 max-w-6xl mx-auto\">\r\n          <div v-for=\"item in filteredAnnouncements\" :key=\"item.id\" class=\"bg-beige-light/70 dark:bg-gray-800 p-5 rounded-lg shadow-md border border-cream-gray dark:border-gray-700 flex flex-col sm:flex-row gap-4 items-start hover:shadow-lg transition-shadow duration-300\">\r\n            <div class=\"flex-shrink-0 w-full sm:w-24 text-center sm:text-right\">\r\n              <span :class=\"['px-2.5 py-1 inline-block text-xs font-semibold rounded mb-1.5', item.type === 'lecture' ? 'tag-lecture' : 'tag-announcement']\">\r\n                {{ getTypeText(item.type) }}\r\n              </span>\r\n              <!-- ***** التعديل هنا: استخدام formatDate بدلاً من formatFriendlyDate وإزالة عرض الوقت ***** -->\r\n              <div class=\"text-xs text-gray-600 dark:text-gray-400 mt-1\">\r\n                {{ formatDate(item.date) || 'بدون تاريخ' }}\r\n              </div>\r\n              <!-- تم إزالة div الخاص بـ formatTimeOnly -->\r\n            </div>\r\n            <div class=\"flex-grow\">\r\n              <h3 class=\"font-semibold text-brown-dark dark:text-beige-light mb-2 text-lg\">{{ item.title }}</h3>\r\n              <p v-if=\"item.details\" class=\"text-sm text-gray-700 dark:text-gray-300 line-clamp-3 mb-3\">{{ item.details }}</p>\r\n              <NuxtLink v-if=\"item.link && item.type === 'announcement'\" :to=\"item.link\" class=\"text-sm text-primary hover:underline mt-auto inline-block\">التفاصيل</NuxtLink>\r\n              <NuxtLink v-if=\"item.link && item.type === 'lecture'\" :to=\"item.link\" class=\"text-sm text-primary hover:underline mt-auto inline-block\">تفاصيل المحاضرة</NuxtLink>\r\n            </div>\r\n          </div>\r\n        </div>\r\n      </div>\r\n    </section>\r\n\r\n    <!-- 3. لوحة الشرف -->\r\n    <section class=\"bg-cream-gray dark:bg-gray-800/50 py-16 px-4\">\r\n       <!-- ... الكود كما هو ... -->\r\n       <div class=\"container mx-auto\">\r\n        <h2 class=\"text-3xl font-bold text-center text-brown-dark dark:text-beige-light mb-10\">لوحة الشرف</h2>\r\n        <div v-if=\"pending\" class=\"text-center text-gray-500 dark:text-gray-400\">جاري تحميل لوحة الشرف...</div>\r\n        <div v-else-if=\"error && !data?.leaderboard\" class=\"text-center text-red-500\">حدث خطأ أثناء تحميل لوحة الشرف.</div>\r\n        <div v-else-if=\"!leaderboard?.length\" class=\"text-center text-gray-500 dark:text-gray-400\">لا يوجد متفوقون حاليًا.</div>\r\n        <div v-else class=\"max-w-lg mx-auto bg-white dark:bg-gray-800 p-6 rounded-lg shadow-lg border border-cream-gray dark:border-gray-700\">\r\n           <ul class=\"space-y-4\">\r\n             <li v-for=\"(entry, index) in leaderboard\" :key=\"entry.userId\" class=\"flex items-center justify-between p-3 rounded-md hover:bg-beige-light/70 dark:hover:bg-gray-700/50 transition-colors border-b border-cream-gray dark:border-gray-700 last:border-b-0\">\r\n               <div class=\"flex items-center gap-x-4\">\r\n                 <span class=\"font-bold text-xl text-primary w-8 text-center\">{{ index + 1 }}.</span>\r\n                 <span class=\"font-semibold text-brown-dark dark:text-beige-light text-lg\">{{ entry.userName }}</span>\r\n               </div>\r\n               <span class=\"text-base text-gray-600 dark:text-gray-400 font-medium\">{{ entry.score }} نقطة</span>\r\n             </li>\r\n           </ul>\r\n        </div>\r\n         <div v-if=\"leaderboard?.length\" class=\"text-center mt-10\">\r\n           <NuxtLink to=\"/leaderboard\" class=\"inline-block bg-primary text-white py-2.5 px-7 rounded-md hover:bg-opacity-85 transition-colors text-lg shadow hover:shadow-md\">\r\n             عرض لوحة الشرف كاملة\r\n          </NuxtLink>\r\n        </div>\r\n       </div>\r\n    </section>\r\n\r\n    <!-- 4. آخر الأسئلة المجابة -->\r\n    <section class=\"py-16 px-4\">\r\n       <!-- ... الكود كما هو ... -->\r\n       <div class=\"container mx-auto\">\r\n        <h2 class=\"text-3xl font-bold text-center text-brown-dark dark:text-beige-light mb-10\">آخر الأسئلة المجابة</h2>\r\n        <div v-if=\"pending\" class=\"text-center py-10 text-gray-500 dark:text-gray-400\">جاري تحميل الأسئلة...</div>\r\n         <div v-else-if=\"error && !data?.latestQuestions\" class=\"text-center py-10 text-red-500\">حدث خطأ أثناء تحميل الأسئلة.</div>\r\n        <div v-else-if=\"!latestQuestions?.length\" class=\"text-center py-10 text-gray-500 dark:text-gray-400\">لا توجد أسئلة مجابة حاليًا.</div>\r\n        <div v-else class=\"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-6\">\r\n          <div v-for=\"question in latestQuestions\" :key=\"question.id\" class=\"bg-white dark:bg-gray-800 p-5 rounded-lg shadow border border-cream-gray dark:border-gray-700 hover:shadow-lg transition-shadow flex flex-col\">\r\n            <NuxtLink :to=\"`/ask/${question.id}`\" class=\"hover:text-primary group flex-grow\">\r\n              <h3 class=\"font-semibold text-lg mb-2 line-clamp-2 group-hover:underline text-brown-dark dark:text-beige-light\">{{ question.title }}</h3>\r\n              <p class=\"text-sm text-gray-600 dark:text-gray-400 line-clamp-3\">{{ question.answerSnippet }}</p>\r\n            </NuxtLink>\r\n            <NuxtLink :to=\"`/ask/${question.id}`\" class=\"text-xs text-primary hover:underline mt-3 self-start\">اقرأ الإجابة كاملة →</NuxtLink>\r\n          </div>\r\n        </div>\r\n        <div class=\"text-center mt-10\">\r\n           <NuxtLink to=\"/ask\" class=\"text-primary hover:underline font-semibold text-lg\">عرض جميع الأسئلة المجابة</NuxtLink>\r\n        </div>\r\n        <!-- زر إرسال السؤال -->\r\n        <div class=\"text-center mt-6\">\r\n          <NuxtLink to=\"/ask\" class=\"bg-primary text-white py-2.5 px-6 rounded-md shadow hover:bg-opacity-90 transition-colors\">\r\n            أرسل سؤالك للشيخ\r\n          </NuxtLink>\r\n        </div>\r\n      </div>\r\n    </section>\r\n\r\n    <!-- 5. أحدث الإضافات -->\r\n    <!-- 5.1 أحدث الدروس (المستقلة فقط) -->\r\n    <section class=\"py-16 px-4 bg-beige-light/50 dark:bg-gray-800/20\">\r\n      <!-- ... الكود كما هو ... -->\r\n       <div class=\"container mx-auto\">\r\n        <div class=\"flex justify-between items-center mb-10\">\r\n          <h2 class=\"text-3xl font-bold text-brown-dark dark:text-beige-light\">أحدث الدروس المستقلة</h2>\r\n          <NuxtLink v-if=\"latestLessons?.length\" to=\"/lessons\" class=\"text-sm text-primary hover:underline font-medium\">عرض كل الدروس</NuxtLink>\r\n        </div>\r\n        <div v-if=\"pending\" class=\"text-center text-gray-500 dark:text-gray-400\">جاري تحميل الدروس...</div>\r\n        <div v-else-if=\"error && !data?.latestLessons\" class=\"text-center text-red-500\">حدث خطأ أثناء تحميل الدروس.</div>\r\n        <div v-else-if=\"!latestLessons?.length\" class=\"text-center text-gray-500 dark:text-gray-400\">لا توجد دروس مستقلة مضافة حديثًا.</div>\r\n        <div v-else class=\"grid grid-cols-1 sm:grid-cols-2 md:grid-cols-3 lg:grid-cols-4 gap-6\">\r\n          <div v-for=\"item in latestLessons\" :key=\"`lesson-${item.id}`\" class=\"content-card\">\r\n            <NuxtLink :to=\"item.link\" class=\"block group\">\r\n              <NuxtImg :src=\"item.thumbnail || '/images/placeholder-lesson.jpg'\" :alt=\"item.title\" class=\"content-card-image\"/>\r\n              <div class=\"p-4\">\r\n                <p class=\"content-card-type\">{{ getContentType(item.type) }}</p>\r\n                <h3 class=\"content-card-title\">{{ item.title }}</h3>\r\n                 <span class=\"text-xs text-primary group-hover:underline\">مشاهدة الدرس →</span>\r\n              </div>\r\n            </NuxtLink>\r\n          </div>\r\n        </div>\r\n      </div>\r\n    </section>\r\n\r\n    <!-- 5.2 أحدث الدورات -->\r\n    <section class=\"py-16 px-4 bg-white dark:bg-gray-900\">\r\n      <!-- ... الكود كما هو ... -->\r\n       <div class=\"container mx-auto\">\r\n         <div class=\"flex justify-between items-center mb-10\">\r\n          <h2 class=\"text-3xl font-bold text-brown-dark dark:text-beige-light\">أحدث الدورات</h2>\r\n          <NuxtLink v-if=\"latestCourses?.length\" to=\"/study\" class=\"text-sm text-primary hover:underline font-medium\">عرض كل الدورات</NuxtLink>\r\n        </div>\r\n        <div v-if=\"pending\" class=\"text-center text-gray-500 dark:text-gray-400\">جاري تحميل الدورات...</div>\r\n        <div v-else-if=\"error && !data?.latestCourses\" class=\"text-center text-red-500\">حدث خطأ أثناء تحميل الدورات.</div>\r\n        <div v-else-if=\"!latestCourses?.length\" class=\"text-center text-gray-500 dark:text-gray-400\">لا توجد دورات مضافة حديثًا.</div>\r\n        <div v-else class=\"grid grid-cols-1 sm:grid-cols-2 md:grid-cols-3 lg:grid-cols-4 gap-6\">\r\n          <div v-for=\"item in latestCourses\" :key=\"`course-${item.id}`\" class=\"content-card\">\r\n            <NuxtLink :to=\"item.link\" class=\"block group\">\r\n              <NuxtImg :src=\"item.thumbnail || '/images/placeholder-course.jpg'\" :alt=\"item.title\" class=\"content-card-image\"/>\r\n              <div class=\"p-4\">\r\n                <p class=\"content-card-type\">{{ getContentType(item.type) }}</p>\r\n                <h3 class=\"content-card-title\">{{ item.title }}</h3>\r\n                 <span class=\"text-xs text-primary group-hover:underline\">بدء الدورة →</span>\r\n              </div>\r\n            </NuxtLink>\r\n          </div>\r\n        </div>\r\n      </div>\r\n    </section>\r\n\r\n    <!-- 5.3 أحدث الكتب -->\r\n    <section class=\"py-16 px-4 bg-beige-light/50 dark:bg-gray-800/20\">\r\n       <!-- ... الكود كما هو ... -->\r\n        <div class=\"container mx-auto\">\r\n        <div class=\"flex justify-between items-center mb-10\">\r\n          <h2 class=\"text-3xl font-bold text-brown-dark dark:text-beige-light\">أحدث الكتب</h2>\r\n           <NuxtLink v-if=\"latestBooks?.length\" to=\"/books\" class=\"text-sm text-primary hover:underline font-medium\">عرض كل الكتب</NuxtLink>\r\n        </div>\r\n         <div v-if=\"pending\" class=\"text-center text-gray-500 dark:text-gray-400\">جاري تحميل الكتب...</div>\r\n        <div v-else-if=\"error && !data?.latestBooks\" class=\"text-center text-red-500\">حدث خطأ أثناء تحميل الكتب.</div>\r\n        <div v-else-if=\"!latestBooks?.length\" class=\"text-center text-gray-500 dark:text-gray-400\">لا توجد كتب مضافة حديثًا.</div>\r\n        <div v-else class=\"grid grid-cols-1 sm:grid-cols-2 md:grid-cols-3 lg:grid-cols-4 gap-6\">\r\n          <div v-for=\"item in latestBooks\" :key=\"`book-${item.id}`\" class=\"content-card\">\r\n            <NuxtLink :to=\"item.link\" class=\"block group\">\r\n              <NuxtImg :src=\"item.thumbnail || '/images/placeholder-content.jpg'\" :alt=\"item.title\" class=\"content-card-image\"/>\r\n              <div class=\"p-4\">\r\n                <p class=\"content-card-type\">{{ getContentType(item.type) }}</p>\r\n                <h3 class=\"content-card-title\">{{ item.title }}</h3>\r\n                 <span class=\"text-xs text-primary group-hover:underline\">تصفح الكتاب →</span>\r\n              </div>\r\n            </NuxtLink>\r\n          </div>\r\n        </div>\r\n      </div>\r\n    </section>\r\n\r\n    <!-- Modal for Live Stream -->\r\n     <ClientOnly>\r\n        <VideoPreviewModal\r\n         :show=\"showLiveModal\"\r\n         :video-url=\"liveStreamUrl\"\r\n         :title=\"liveStreamTitle\"\r\n         @close=\"closeLiveStreamModal\" />\r\n     </ClientOnly>\r\n\r\n  </div>\r\n</template>\r\n\r\n<script setup lang=\"ts\">\r\nimport { ref, computed, onUnmounted, watch, onMounted } from 'vue';\r\nimport { useSupabaseClient, useAsyncData } from '#imports';\r\nimport type { Database, Tables, Enums } from '~/types/database.types';\r\nimport VideoPreviewModal from '~/components/admin/VideoPreviewModal.vue'; // تأكد من المسار الصحيح\r\n\r\n// --- Supabase Client ---\r\nconst client = useSupabaseClient<Database>();\r\n\r\n// --- Types ---\r\ntype AnnouncementType = Enums<'announcement_type'>;\r\ntype Announcement = Omit<Tables<'announcements'>, 'type'> & { type: AnnouncementType, time?: string };\r\ntype Question = { id: number; title: string; answerSnippet: string; };\r\ntype LeaderboardEntry = { userId: string; userName: string; score: number; };\r\ntype ContentItem = { id: string | number; title: string; type: 'lesson' | 'book' | 'course'; thumbnail?: string | null; link: string; created_at: string; };\r\ntype AboutSheikhInfo = Tables<'about_sheikh'> | null;\r\n\r\n// --- Modal State ---\r\nconst showLiveModal = ref(false);\r\nconst liveStreamUrl = ref('');\r\nconst liveStreamTitle = ref('');\r\n\r\n// --- Countdown State ---\r\nconst countdown = ref<string | null>(null);\r\nlet countdownInterval: ReturnType<typeof setInterval> | null = null;\r\n\r\n// --- Functions for Modal ---\r\nfunction openLiveStreamModal(lecture: Announcement | undefined) {\r\n    if (lecture?.link) {\r\n        liveStreamUrl.value = lecture.link;\r\n        liveStreamTitle.value = lecture.title;\r\n        showLiveModal.value = true;\r\n    }\r\n}\r\nfunction closeLiveStreamModal() {\r\n    showLiveModal.value = false;\r\n    liveStreamUrl.value = '';\r\n    liveStreamTitle.value = '';\r\n}\r\n\r\n// --- Helper function to get YouTube Thumbnail ---\r\nfunction getYoutubeThumbnailUrl(url: string | null | undefined): string | null {\r\n    if (!url) return null;\r\n    let videoId: string | null = null;\r\n    try {\r\n        const urlObj = new URL(url);\r\n        if (urlObj.hostname === 'youtu.be') { videoId = urlObj.pathname.slice(1); }\r\n        else if (urlObj.hostname.includes('youtube.com')) {\r\n            videoId = urlObj.searchParams.get('v');\r\n            if (!videoId && urlObj.searchParams.get('list')) { return null; } // Cannot get playlist thumb reliably\r\n        }\r\n    } catch (e) { console.error(\"Error parsing YouTube URL:\", e); return null; }\r\n    if (videoId) { return `https://img.youtube.com/vi/${videoId}/mqdefault.jpg`; }\r\n    return null;\r\n}\r\n\r\n\r\n// --- Function to generate content links ---\r\nfunction generateContentLink(type: ContentItem['type'], id: number | string): string {\r\n    switch (type) {\r\n        case 'lesson': return `/lessons/${id}`;\r\n        case 'book': return `/books/${id}`;\r\n        case 'course': return `/study/courses/${id}`;\r\n        default: return '/';\r\n    }\r\n}\r\n\r\n// --- Function to fetch homepage data ---\r\nasync function fetchHomepageData() {\r\n  console.log(\"Fetching homepage data from Supabase...\");\r\n   const aboutPromise = client.from('about_sheikh').select('short_bio, profile_image_url').eq('id', 1).maybeSingle();\r\n   const lessonsPromise = client.from('lessons').select('id, title, created_at, youtube_url').is('course_id', null).order('created_at', { ascending: false }).limit(4);\r\n   const booksPromise = client.from('books').select('id, title, cover_image_url, created_at').order('created_at', { ascending: false }).limit(4);\r\n   const coursesPromise = client.from('study_courses').select('id, title, created_at, youtube_playlist_url').eq('is_active', true).order('created_at', { ascending: false }).limit(4);\r\n   const announcementsPromise = client.from('announcements').select('id, title, details, date, type, link').eq('is_published', true).order('date', { ascending: false, nullsFirst: false }).limit(6);\r\n   const questionsPromise = client.from('questions_to_sheikh').select('id, question_text, answer_text').eq('is_public', true).eq('is_answered', true).order('answered_at', { ascending: false }).limit(4);\r\n   const leaderboardPromise = client.from('profiles').select('id, full_name, points').order('points', { ascending: false }).limit(3);\r\n\r\n  const [\r\n    announcementsResponse, questionsResponse, leaderboardResponse, aboutResponse,\r\n    lessonsResponse, booksResponse, coursesResponse\r\n  ] = await Promise.all([\r\n    announcementsPromise, questionsPromise, leaderboardPromise, aboutPromise,\r\n    lessonsPromise, booksPromise, coursesPromise\r\n  ]);\r\n   const errors = [ /* ... */ ].filter(Boolean);\r\n   if (errors.length > 0) { console.error('Errors fetching homepage data:', errors.map(e => e?.message)); }\r\n\r\n  const processedQuestions = questionsResponse.data?.map(q => ({ id: q.id, title: q.question_text, answerSnippet: q.answer_text?.substring(0, 120) + (q.answer_text && q.answer_text.length > 120 ? '...' : '') || '...' })) || [];\r\n  const processedLeaderboard = leaderboardResponse.data?.map(p => ({ userId: p.id, userName: p.full_name ?? 'مستخدم', score: p.points ?? 0 })) || [];\r\n  const processedLessons = lessonsResponse.data?.map(item => ({ id: item.id, title: item.title, type: 'lesson' as const, thumbnail: getYoutubeThumbnailUrl(item.youtube_url), created_at: item.created_at, link: generateContentLink('lesson', item.id) })) || [];\r\n  const processedBooks = booksResponse.data?.map(item => ({ id: item.id, title: item.title, type: 'book' as const, thumbnail: item.cover_image_url, created_at: item.created_at, link: generateContentLink('book', item.id) })) || [];\r\n  const processedCourses = coursesResponse.data?.map(item => ({ id: item.id, title: item.title, type: 'course' as const, thumbnail: getYoutubeThumbnailUrl(item.youtube_playlist_url), created_at: item.created_at, link: generateContentLink('course', item.id) })) || [];\r\n\r\n  return {\r\n    aboutData: aboutResponse.data as AboutSheikhInfo,\r\n    announcements: (announcementsResponse.data || []) as Announcement[],\r\n    latestQuestions: processedQuestions,\r\n    leaderboard: processedLeaderboard,\r\n    latestLessons: processedLessons,\r\n    latestBooks: processedBooks,\r\n    latestCourses: processedCourses,\r\n  };\r\n}\r\n\r\n// --- useAsyncData ---\r\nconst { data, pending, error } = await useAsyncData('homepageData', fetchHomepageData, { lazy: true });\r\n\r\n// --- Computed Properties ---\r\nconst aboutData = computed(() => data.value?.aboutData || null);\r\nconst allAnnouncements = computed(() => data.value?.announcements || []); // Get all announcements first\r\nconst latestQuestions = computed(() => data.value?.latestQuestions || []);\r\nconst leaderboard = computed(() => data.value?.leaderboard || []);\r\nconst latestLessons = computed(() => data.value?.latestLessons || []);\r\nconst latestBooks = computed(() => data.value?.latestBooks || []);\r\nconst latestCourses = computed(() => data.value?.latestCourses || []);\r\n\r\n// --- Upcoming Lecture/Live Logic (for Hero button) ---\r\nconst upcomingLectureOrLive = computed<Announcement | undefined>(() => {\r\n  if (!allAnnouncements.value) return undefined;\r\n  const now = new Date();\r\n  // Find the nearest upcoming/ongoing lecture or live event\r\n  return [...allAnnouncements.value]\r\n    .filter(a => (a.type === 'lecture' || a.type === 'live') && a.date)\r\n    .sort((a, b) => new Date(a.date!).getTime() - new Date(b.date!).getTime()) // Sort by date ascending\r\n    .find(a => new Date(a.date!).getTime() >= now.getTime() - (1 * 60 * 60 * 1000)); // Within the last hour or in the future\r\n});\r\n\r\n// --- Filtered Announcements (for the list section, excluding 'live' and the one shown in hero) ---\r\nconst filteredAnnouncements = computed(() => {\r\n    const upcomingId = upcomingLectureOrLive.value?.id;\r\n    return allAnnouncements.value.filter(a => {\r\n        if (a.type === 'live') return false; // Exclude all live events\r\n        if (a.id === upcomingId) return false; // Exclude the specific event shown in hero\r\n        return true; // Include other announcements and lectures\r\n    });\r\n});\r\n\r\n\r\n// --- Countdown Update Function ---\r\nfunction updateCountdown() {\r\n  if (!upcomingLectureOrLive.value?.date || isLiveNow(upcomingLectureOrLive.value.date)) {\r\n    countdown.value = null;\r\n    if (countdownInterval) clearInterval(countdownInterval);\r\n    return;\r\n  }\r\n  const now = new Date();\r\n  const eventDate = new Date(upcomingLectureOrLive.value.date);\r\n  const diff = eventDate.getTime() - now.getTime();\r\n  if (diff <= 0) {\r\n    countdown.value = null;\r\n    if (countdownInterval) clearInterval(countdownInterval);\r\n  } else {\r\n    const days = Math.floor(diff / (1000 * 60 * 60 * 24));\r\n    const hours = Math.floor((diff % (1000 * 60 * 60 * 24)) / (1000 * 60 * 60));\r\n    const minutes = Math.floor((diff % (1000 * 60 * 60)) / (1000 * 60));\r\n    const seconds = Math.floor((diff % (1000 * 60)) / 1000);\r\n    let countdownString = '';\r\n    if (days > 0) countdownString += `${days}ي `;\r\n    if (hours > 0 || days > 0) countdownString += `${hours}س `;\r\n    if (minutes > 0 || hours > 0 || days > 0) countdownString += `${minutes}د `;\r\n    countdownString += `${seconds}ث`;\r\n    countdown.value = countdownString.trim();\r\n  }\r\n}\r\n\r\n// --- Lifecycle Hooks for Countdown ---\r\nonMounted(() => {\r\n   watch(upcomingLectureOrLive, (newLecture) => {\r\n      if (countdownInterval) clearInterval(countdownInterval);\r\n      if (newLecture && !isLiveNow(newLecture.date)) {\r\n         updateCountdown();\r\n         countdownInterval = setInterval(updateCountdown, 1000);\r\n      } else {\r\n          countdown.value = null;\r\n      }\r\n   }, { immediate: true }); // Use immediate: true to run the watch handler on mount\r\n});\r\n\r\nonUnmounted(() => {\r\n  if (countdownInterval) { clearInterval(countdownInterval); }\r\n});\r\n\r\n\r\n// --- Greeting Computed Property ---\r\nconst greeting = computed(() => {\r\n  const hour = new Date().getHours();\r\n  if (hour < 6) return 'فجر مبارك مع';\r\n  if (hour < 12) return 'صباح الخير مع';\r\n  if (hour < 17) return 'نهارك سعيد مع';\r\n  return 'مساء الخير مع';\r\n});\r\n\r\n// --- Helper Functions ---\r\nfunction formatDate(dateString: string | null): string {\r\n  if (!dateString) return '';\r\n  try {\r\n    const date = new Date(dateString);\r\n    if (isNaN(date.getTime())) return '';\r\n    return date.toLocaleDateString('ar-EG', { year: 'numeric', month: 'short', day: 'numeric' });\r\n  } catch (e) { console.error(\"Error formatting date:\", e); return dateString || ''; }\r\n}\r\nfunction formatFriendlyDate(dateString: string | null): string | null {\r\n  if (!dateString) return null;\r\n  try {\r\n    const date = new Date(dateString);\r\n    if (isNaN(date.getTime())) return null;\r\n    return date.toLocaleString('ar-EG', { dateStyle: 'medium', timeStyle: 'short' });\r\n  } catch (e) { console.error(\"Error formatting friendly date:\", e); return null; }\r\n}\r\nfunction formatTimeOnly(dateString: string | null): string | null {\r\n   if (!dateString) return null;\r\n   try {\r\n     const date = new Date(dateString);\r\n     if (isNaN(date.getTime())) return null;\r\n      const hasTimeComponent = dateString.includes('T') || dateString.includes(':'); // Improved check\r\n      if (date.getHours() === 0 && date.getMinutes() === 0 && !hasTimeComponent) {\r\n          return null;\r\n      }\r\n     return date.toLocaleTimeString('ar-EG', { timeStyle: 'short' });\r\n   } catch (e) { console.error(\"Error formatting time only:\", e); return null; }\r\n}\r\nfunction isLiveNow(dateString: string | null): boolean {\r\n    if (!dateString) return false;\r\n    try {\r\n        const now = new Date();\r\n        const eventDate = new Date(dateString);\r\n        if (isNaN(eventDate.getTime())) return false;\r\n        const eventDurationMs = 3 * 60 * 60 * 1000; // 3 hours duration example\r\n        const eventEnd = new Date(eventDate.getTime() + eventDurationMs);\r\n        return eventDate <= now && now < eventEnd;\r\n    } catch (e) { console.error(\"Error checking if live now:\", e); return false; }\r\n}\r\nfunction getTypeText(type: AnnouncementType | undefined): string {\r\n    switch (type) {\r\n        case 'lecture': return 'محاضرة';\r\n        case 'announcement': return 'إعلان';\r\n        case 'live': return 'بث مباشر';\r\n        default: return 'غير محدد';\r\n    }\r\n}\r\nfunction getContentType(type: ContentItem['type']): string {\r\n  switch (type) {\r\n    case 'lesson': return 'درس';\r\n    case 'book': return 'كتاب';\r\n    case 'course': return 'دورة';\r\n    default: return 'محتوى';\r\n  }\r\n}\r\n\r\n</script>\r\n\r\n<style scoped>\r\n/* ----- أنماط الأزرار ----- */\r\n.btn-primary {\r\n  @apply bg-primary text-white py-3 px-10 rounded-md transition-all duration-300 text-lg shadow-lg hover:bg-opacity-90 hover:shadow-xl focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-primary dark:focus:ring-offset-gray-900;\r\n}\r\n.btn-live {\r\n  @apply inline-flex items-center gap-2 bg-red-600 text-white py-3 px-6 md:px-8 rounded-md transition-all duration-300 text-lg shadow-lg hover:bg-red-700 hover:shadow-xl focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-red-500 dark:focus:ring-offset-gray-900 animate-pulse;\r\n}\r\n.btn-upcoming-lecture {\r\n    @apply inline-flex items-center gap-2 bg-blue-600 text-white py-3 px-6 md:px-8 rounded-md transition-all duration-300 text-lg shadow-lg hover:bg-blue-700 hover:shadow-xl focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-blue-500 dark:focus:ring-offset-gray-900;\r\n}\r\n\r\n/* ----- أنماط محتوى البطاقات ----- */\r\n.content-card {\r\n  @apply bg-white dark:bg-gray-800 rounded-lg shadow border border-cream-gray dark:border-gray-700 overflow-hidden transition-shadow duration-200 hover:shadow-lg flex flex-col;\r\n}\r\n.content-card-image {\r\n  @apply h-40 w-full object-cover group-hover:scale-105 transition-transform duration-300 bg-gray-200 dark:bg-gray-700; /* Added background color */\r\n}\r\n.content-card .p-4 {\r\n    @apply flex flex-col flex-grow;\r\n}\r\n.content-card-type {\r\n  @apply text-xs text-gray-500 dark:text-gray-400 mb-1;\r\n}\r\n.content-card-title {\r\n  @apply font-semibold mb-2 line-clamp-2 text-brown-dark dark:text-beige-light group-hover:text-primary transition-colors flex-grow;\r\n}\r\n.content-card .text-xs {\r\n    @apply mt-auto pt-2;\r\n}\r\n\r\n/* ----- أنماط الوسوم الخاصة بالإعلانات ----- */\r\n.tag-lecture {\r\n    @apply bg-blue-100 text-blue-800 dark:bg-blue-900/70 dark:text-blue-200;\r\n}\r\n.tag-live {\r\n     @apply bg-red-100 text-red-800 dark:bg-red-900/70 dark:text-red-200 animate-pulse;\r\n}\r\n.tag-announcement {\r\n    @apply bg-yellow-100 text-yellow-800 dark:bg-yellow-900/70 dark:text-yellow-200;\r\n}\r\n\r\n/* ----- ميزة تقطيع الأسطر ----- */\r\n.line-clamp-2 {\r\n  overflow: hidden;\r\n  display: -webkit-box;\r\n  -webkit-box-orient: vertical;\r\n  -webkit-line-clamp: 2;\r\n}\r\n.line-clamp-3 {\r\n  overflow: hidden;\r\n  display: -webkit-box;\r\n  -webkit-box-orient: vertical;\r\n  -webkit-line-clamp: 3;\r\n}\r\n\r\n/* ----- تأثير نبض زر البث المباشر (والوسم) ----- */\r\n@keyframes pulse {\r\n  0%, 100% { opacity: 1; }\r\n  50% { opacity: 0.6; }\r\n}\r\n.animate-pulse {\r\n  animation: pulse 1.8s cubic-bezier(0.4, 0, 0.6, 1) infinite;\r\n}\r\n</style>"],"version":3}