{"file":"VideoPreviewModal.vue2.mjs","mappings":";;;;;;;;;;;;AAgFA,UAAM,QAAQ;AAKd,UAAM,OAAO;AAEP,UAAA,oBAAoB,CAAC,QAAkD;AACtE,UAAA,CAAC,IAAY,QAAA;AACb,UAAA;AACI,cAAA,SAAS,IAAI,IAAI,GAAG;AACtB,YAAA,OAAO,aAAa,YAAY;AAC3B,iBAAA,OAAO,SAAS,MAAM,CAAC;AAAA,QAAA;AAE5B,YAAA,OAAO,SAAS,SAAS,aAAa,KAAK,OAAO,aAAa,IAAI,GAAG,GAAG;AACpE,iBAAA,OAAO,aAAa,IAAI,GAAG;AAAA,QAAA;AAAA,eAE7B,GAAG;AACV,cAAM,QAAQ;AACR,cAAA,QAAQ,IAAI,MAAM,KAAK;AACzB,YAAA,SAAS,MAAM,CAAC,GAAG;AACpB,iBAAO,MAAM,CAAC;AAAA,QAAA;AAAA,MACjB;AAEK,aAAA;AAAA,IACT;AAEK,UAAA,WAAW,SAAS,MAAM;AACxB,YAAA,UAAU,kBAAkB,MAAM,QAAQ;AAC5C,UAAA,CAAC,QAAgB,QAAA;AAIrB,aAAO,iCAAiC,OAAO;AAAA,IAAA,CAChD;AAED,aAAS,aAAa;AACpB,WAAK,OAAO;AAAA,IAAA;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;","names":[],"sources":["../../../../../components/admin/VideoPreviewModal.vue"],"sourcesContent":["<!-- components/admin/VideoPreviewModal.vue -->\r\n<template>\r\n  <TransitionRoot appear :show=\"show\" as=\"template\">\r\n    <Dialog as=\"div\" @close=\"closeModal\" class=\"relative z-[60]\"> \r\n\r\n      <TransitionChild\r\n        as=\"div\"\r\n        class=\"fixed inset-0 bg-black/50 backdrop-blur-sm\"\r\n        enter=\"duration-200 ease-out\"\r\n        enter-from=\"opacity-0\"\r\n        enter-to=\"opacity-100\"\r\n        leave=\"duration-150 ease-in\"\r\n        leave-from=\"opacity-100\"\r\n        leave-to=\"opacity-0\"\r\n      />\r\n\r\n      <div class=\"fixed inset-0 overflow-y-auto\">\r\n        <div class=\"flex min-h-full items-center justify-center p-4 text-center\">\r\n          <TransitionChild\r\n            as=\"template\"\r\n            enter=\"duration-200 ease-out\"\r\n            enter-from=\"opacity-0 scale-95\"\r\n            enter-to=\"opacity-100 scale-100\"\r\n            leave=\"duration-150 ease-in\"\r\n            leave-from=\"opacity-100 scale-100\"\r\n            leave-to=\"opacity-0 scale-95\"\r\n          >\r\n            <DialogPanel class=\"w-full max-w-md transform overflow-hidden rounded-lg bg-white dark:bg-gray-800 p-4 text-left align-middle shadow-xl transition-all\">\r\n               <DialogTitle\r\n                  as=\"h3\"\r\n                  class=\"text-lg font-medium leading-6 text-gray-900 dark:text-gray-100 flex justify-between items-center\"\r\n                >\r\n                  <span>معاينة الفيديو</span>\r\n                  <button @click=\"closeModal\" class=\"text-gray-400 hover:text-gray-600 dark:hover:text-gray-300 focus:outline-none\">\r\n                     <svg xmlns=\"http://www.w3.org/2000/svg\" fill=\"none\" viewBox=\"0 0 24 24\" stroke-width=\"1.5\" stroke=\"currentColor\" class=\"w-6 h-6\">\r\n                       <path stroke-linecap=\"round\" stroke-linejoin=\"round\" d=\"M6 18 18 6M6 6l12 12\" />\r\n                     </svg>\r\n                  </button>\r\n                </DialogTitle>\r\n              <div class=\"mt-4 aspect-video\">\r\n                 <iframe\r\n                   v-if=\"embedUrl\"\r\n                   :src=\"embedUrl\"\r\n                   frameborder=\"0\"\r\n                   allow=\"accelerometer; autoplay; clipboard-write; encrypted-media; gyroscope; picture-in-picture; web-share\"\r\n                   allowfullscreen\r\n                   class=\"w-full h-full\"\r\n                 ></iframe>\r\n                 <div v-else class=\"w-full h-full bg-gray-200 dark:bg-gray-700 flex items-center justify-center text-gray-500\">\r\n                    لا يمكن تحميل الفيديو.\r\n                 </div>\r\n              </div>\r\n\r\n              <!-- <div class=\"mt-4 flex justify-end\">\r\n                <button\r\n                  type=\"button\"\r\n                  class=\"inline-flex justify-center rounded-md border border-transparent bg-blue-100 dark:bg-blue-900 px-4 py-2 text-sm font-medium text-blue-900 dark:text-blue-100 hover:bg-blue-200 dark:hover:bg-blue-800 focus:outline-none focus-visible:ring-2 focus-visible:ring-blue-500 focus-visible:ring-offset-2\"\r\n                  @click=\"closeModal\"\r\n                >\r\n                  إغلاق\r\n                </button>\r\n              </div> -->\r\n            </DialogPanel>\r\n          </TransitionChild>\r\n        </div>\r\n      </div>\r\n    </Dialog>\r\n  </TransitionRoot>\r\n</template>\r\n\r\n<script setup lang=\"ts\">\r\nimport { computed } from 'vue';\r\nimport {\r\n  TransitionRoot,\r\n  TransitionChild,\r\n  Dialog,\r\n  DialogPanel,\r\n  DialogTitle,\r\n} from '@headlessui/vue';\r\n\r\nconst props = defineProps<{\r\n  show: boolean;\r\n  videoUrl: string | null;\r\n}>();\r\n\r\nconst emit = defineEmits(['close']);\r\n\r\nconst getYoutubeVideoId = (url: string | null | undefined): string | null => {\r\n   if (!url) return null;\r\n   try {\r\n     const urlObj = new URL(url);\r\n     if (urlObj.hostname === 'youtu.be') {\r\n       return urlObj.pathname.slice(1);\r\n     }\r\n     if (urlObj.hostname.includes('youtube.com') && urlObj.searchParams.has('v')) {\r\n       return urlObj.searchParams.get('v');\r\n     }\r\n   } catch (e) {\r\n     const regex = /(?:youtube\\.com\\/(?:[^/]+\\/.+\\/|(?:v|e(?:mbed)?)\\/|.*[?&]v=)|youtu\\.be\\/)([^\"&?/ ]{11})/;\r\n     const match = url.match(regex);\r\n     if (match && match[1]) {\r\n        return match[1];\r\n     }\r\n   }\r\n   return null;\r\n };\r\n\r\nconst embedUrl = computed(() => {\r\n  const videoId = getYoutubeVideoId(props.videoUrl);\r\n  if (!videoId) return null;\r\n  // إضافة ?autoplay=1 لتشغيل الفيديو تلقائيًا عند فتح المودال (اختياري)\r\n  // إضافة &modestbranding=1 لإخفاء شعار يوتيوب قليلًا\r\n  // إضافة &rel=0 لمنع عرض الفيديوهات المقترحة من قنوات أخرى في النهاية\r\n  return `https://www.youtube.com/embed/${videoId}?autoplay=1&modestbranding=1&rel=0`;\r\n});\r\n\r\nfunction closeModal() {\r\n  emit('close');\r\n}\r\n</script>"],"version":3}